import base64;exec base64.b64decode('aW1wb3J0IHhibWMgLCB4Ym1jYWRkb24gLCB4Ym1jZ3VpICwgeGJtY3BsdWdpbiAsIHVybGxpYiAsIHVybGxpYjIgLCBvcyAsIHJlICwgc3lzICwgZGF0ZXRpbWUgLCBzaHV0aWwgLCB1cmxyZXNvbHZlciAsIHJlc29sdmV1cmwgLCByYW5kb20gLCBsaXZlcmVzb2x2ZXIKZnJvbSByZXNvdXJjZXMgLiBsaWJzIC4gY29tbW9uX2FkZG9uIGltcG9ydCBBZGRvbgppbXBvcnQgYmFzZTY0CmZyb20gbWV0YWhhbmRsZXIgaW1wb3J0IG1ldGFoYW5kbGVycwpmcm9tIHJlc291cmNlcyAuIGxpYnMgaW1wb3J0IGRvbV9wYXJzZXIKaWYgNjQgLSA2NDogaTExaUlpaUlpaQpPTzBvID0gJ3BsdWdpbi52aWRlby51ZmMtZmluZXN0JwpPbzBPb28gPSBBZGRvbiAoIE9PMG8gLCBzeXMgLiBhcmd2ICkKTzBPME9PME8wTzAgPSAnW0NPTE9SIHJlZF1QbGFuZXRbL0NPTE9SXSBbQ09MT1Igd2hpdGVdTU1BWy9DT0xPUl0nCmlpaWlpID0geGJtY2FkZG9uIC4gQWRkb24gKCBpZCA9IE9PMG8gKQpvb28wT08gPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoICdzcGVjaWFsOi8vaG9tZS9hZGRvbnMvcHJvZ3JhbS5wbGV4dXMnICkKSUkxID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBvcyAuIHBhdGggLiBqb2luICggJ3NwZWNpYWw6Ly9ob21lL2FkZG9ucy8nICsgT08wbyAsICdmYW5hcnQuanBnJyApICkKTzAwb29vb28wMCA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggb3MgLiBwYXRoIC4gam9pbiAoICdzcGVjaWFsOi8vaG9tZS9hZGRvbnMvJyArIE9PMG8gLCAnZmFuYXJ0LmpwZycgKSApCkkxSWlpSSA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggb3MgLiBwYXRoIC4gam9pbiAoICdzcGVjaWFsOi8vaG9tZS9hZGRvbnMvJyArIE9PMG8gLCAnaWNvbi5wbmcnICkgKQpJSWkxSWlpaUkxSWkgPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIG9zIC4gcGF0aCAuIGpvaW4gKCAnc3BlY2lhbDovL3Byb2ZpbGUvYWRkb25fZGF0YS8nICwgT08wbyApICkKSTExaTExSWkgPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIG9zIC4gcGF0aCAuIGpvaW4gKCAnc3BlY2lhbDovL2hvbWUvYWRkb25zLycgKyBPTzBvICwgJ3NlYXJjaC5qcGcnICkgKQpvTzAwb09vID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBvcyAuIHBhdGggLiBqb2luICggJ3NwZWNpYWw6Ly9ob21lL2FkZG9ucy8nICsgT08wbyAsICd3aGF0c25ldy5qcGcnICkgKQpPT09vMCA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggb3MgLiBwYXRoIC4gam9pbiAoICdzcGVjaWFsOi8vaG9tZS9hZGRvbnMvJyArIE9PMG8gLCAnbmV4dC5wbmcnICkgKQpPb29vMDAwbyA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggb3MgLiBwYXRoIC4gam9pbiAoICdodHRwOi8vaS5pbWd1ci5jb20vdVNTWWpNYi5wbmcnICkgKQpJaUlpMTFpSUlpMUlpID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBvcyAuIHBhdGggLiBqb2luICggJ3NwZWNpYWw6Ly9ob21lL2FkZG9ucy8nICwgJ3BsdWdpbi52aWRlby5zcG9ydHNkZXZpbCcgKSApCk9vME8gPSB4Ym1jZ3VpIC4gRGlhbG9nUHJvZ3Jlc3MgKCApCklpSSA9IHhibWMgLiB0cmFuc2xhdGVQYXRoICggb3MgLiBwYXRoIC4gam9pbiAoIElJaTFJaWlpSTFJaSAsICdyZWRkaXQueG1sJyApICkKb29vME9PID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCAnc3BlY2lhbDovL2hvbWUvYWRkb25zL3Byb2dyYW0ucGxleHVzJyApCm9vT28gPSAnaHR0cDovL3N1cHJlbWFjeS5vcmcudWsvTU1BL3VmY21haW4ueG1sJwpPbyA9ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS95b3V0dWJlL3YzL3BsYXlsaXN0SXRlbXM/cGFydD1zbmlwcGV0JnBsYXlsaXN0SWQ9JwpvME8gPSAnJm1heFJlc3VsdHM9NTAma2V5PUFJemFTeUFkLVlFT3FaejluWFZ6R3RuM0tXellMYkxhYWpocUlEQScKSWlpSUlJMTExaUkgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20veW91dHViZS92My9wbGF5bGlzdEl0ZW1zP3BhZ2VUb2tlbj0nCklpSUkgPSAnJnBhcnQ9c25pcHBldCZwbGF5bGlzdElkPScKaUkxSWkxMTExMWlJaSA9ICcmbWF4UmVzdWx0cz01MCZrZXk9QUl6YVN5QWQtWUVPcVp6OW5YVnpHdG4zS1d6WUxiTGFhamhxSURBJwppMWkxSUkgPSBpaWlpaSAuIGdldFNldHRpbmcgKCAncGFzc3dvcmQnICkKTzBvbzBPTzAgPSBpaWlpaSAuIGdldFNldHRpbmcgKCAnZW5hYmxlX21ldGEnICkKSTFpMWlpSTEgPSAnaHR0cDovL3N1cHJlbWFjeS5vcmcudWsvTU1BL3N0YXJ0aW5mby54bWwnCmlpSUlJSUkxaTFpSSA9ICdodHRwOi8vc3VwcmVtYWN5Lm9yZy51ay9NTUEvc3RhcnRpbmZvLnhtbCcKbzBvTzAgPSAnaHR0cDovL3N1cHJlbWFjeS5vcmcudWsvTU1BL3NlYXJjaC54bWwnCm9vMDAgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQppZiA4OCAtIDg4OiBPME9vMG9PMG8gLiBJSTFpSSAuIGkxaUlpaTFJaTFJSQpkZWYgaTFJMUlpaWkxMTExICggKSA6CiBpMTEgKCApCiB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAnQ29udGFpbmVyLlNldFZpZXdNb2RlKDUwMCknICkKIEkxMSA9IG9vT28KIE9vMG8wMDAwbzBvMCAoICdbQl1bQ09MT1IgcmVkXUlbL0NPTE9SXVsvQl1bQl1bQ09MT1Igd2hpdGVdbmZvcm1hdGlvblsvQ09MT1JdWy9CXScgLCBJMTEgLCAxMCAsIG9PMDBvT28gLCBPMDBvb29vbzAwICkKIE9vMG8wMDAwbzBvMCAoICdbQl1bQ09MT1IgcmVkXVNbL0NPTE9SXVsvQl1bQl1bQ09MT1Igd2hpdGVdZWFyY2hbL0NPTE9SXVsvQl0nICwgSTExICwgNSAsIEkxMWkxMUlpICwgTzAwb29vb28wMCApCiBvT28wb29vbzAwbyAoICdbQl1bQ09MT1Igd2hpdGVdJyArICdSZWFsIERlYnJpZCBMb2dpbicgKyAnWy9DT0xPUl0nICdbL0JdJyAsICd1cmwnICwgMTYgLCBPb29vMDAwbyAsIE8wMG9vb29vMDAgKQogb08wbzBvMG9vTzBvTyA9IG9vMG8wTzAwICggb29PbyApCiBvTyA9IHJlIC4gY29tcGlsZSAoICc8aXRlbT4oLis/KTwvaXRlbT4nICkgLiBmaW5kYWxsICggb08wbzBvMG9vTzBvTyApCiBmb3IgaTFpaUlJaWlJMTExIGluIG9PIDoKICB0cnkgOgogICBpZiAnPGNoYW5uZWw+JyBpbiBpMWlpSUlpaUkxMTEgOgogICAgb29vT09PT08gPSByZSAuIGNvbXBpbGUgKCAnPHRpdGxlPiguKz8pPC90aXRsZT4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIGkxaWlJSUkxMTFpaSA9IHJlIC4gY29tcGlsZSAoICc8dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBJSTEgPSByZSAuIGNvbXBpbGUgKCAnPGZhbmFydD4oLis/KTwvZmFuYXJ0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgSTExID0gcmUgLiBjb21waWxlICggJzxjaGFubmVsPiguKz8pPC9jaGFubmVsPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgT28wbzAwMDBvMG8wICggb29vT09PT08gLCBJMTEgLCA2ICwgaTFpaUlJSTExMWlpICwgSUkxICkKICAgZWxpZiAnPHBsYXlsaXN0PicgaW4gaTFpaUlJaWlJMTExIDoKICAgIG9vb09PT09PID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBpMWlpSUlJMTExaWkgPSByZSAuIGNvbXBpbGUgKCAnPHRodW1ibmFpbD4oLis/KTwvdGh1bWJuYWlsPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgSUkxID0gcmUgLiBjb21waWxlICggJzxmYW5hcnQ+KC4rPyk8L2ZhbmFydD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIEkxMSA9IHJlIC4gY29tcGlsZSAoICc8cGxheWxpc3Q+KC4rPyk8L3BsYXlsaXN0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgT28wbzAwMDBvMG8wICggb29vT09PT08gLCBJMTEgLCA0MyAsIGkxaWlJSUkxMTFpaSAsIElJMSApCiAgIGVsaWYgJzxtbWFfb3BlbmxvYWQ+JyBpbiBpMWlpSUlpaUkxMTEgOgogICAgb29vT09PT08gPSByZSAuIGNvbXBpbGUgKCAnPHRpdGxlPiguKz8pPC90aXRsZT4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIGkxaWlJSUkxMTFpaSA9IHJlIC4gY29tcGlsZSAoICc8dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBJSTEgPSByZSAuIGNvbXBpbGUgKCAnPGZhbmFydD4oLis/KTwvZmFuYXJ0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgSTExID0gcmUgLiBjb21waWxlICggJzxtbWFfb3BlbmxvYWQ+KC4rPyk8L21tYV9vcGVubG9hZD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIE9vMG8wMDAwbzBvMCAoIG9vb09PT09PICwgSTExICwgMTMgLCBpMWlpSUlJMTExaWkgLCBJSTEgKQogICBlbGlmICI8cmVkZGl0PiIgaW4gaTFpaUlJaWlJMTExIDoKICAgIG9vb09PT09PID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBJMTEgPSByZSAuIGNvbXBpbGUgKCAnPHJlZGRpdD4oLis/KTwvcmVkZGl0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgaTFpaUlJSTExMWlpID0gcmUgLiBjb21waWxlICggJzx0aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIElJMSA9IHJlIC4gY29tcGlsZSAoICc8ZmFuYXJ0PiguKz8pPC9mYW5hcnQ+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBPbzBvMDAwMG8wbzAgKCBvb29PT09PTyAsICd1cmwnICwgMzIwICwgaTFpaUlJSTExMWlpICwgSUkxICwgJycgKQogICBlbGlmICI8cmVkZGl0X2xpbms+IiBpbiBpMWlpSUlpaUkxMTEgOgogICAgb29vT09PT08gPSByZSAuIGNvbXBpbGUgKCAnPHRpdGxlPiguKz8pPC90aXRsZT4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIEkxMSA9IHJlIC4gY29tcGlsZSAoICc8cmVkZGl0X2xpbms+KC4rPyk8L3JlZGRpdF9saW5rPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgaTFpaUlJSTExMWlpID0gcmUgLiBjb21waWxlICggJzx0aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIElJMSA9IHJlIC4gY29tcGlsZSAoICc8ZmFuYXJ0PiguKz8pPC9mYW5hcnQ+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBPbzBvMDAwMG8wbzAgKCBvb29PT09PTyAsIEkxMSAsIDMxOSAsIGkxaWlJSUkxMTFpaSAsIElJMSAsICcnICkKICAgZWxpZiAiPHJlZGRpdGV2ZW50cz4iIGluIGkxaWlJSWlpSTExMSA6CiAgICBvb29PT09PTyA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+KC4rPyk8L3RpdGxlPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgSTExID0gcmUgLiBjb21waWxlICggJzxyZWRkaXRldmVudHM+KC4rPyk8L3JlZGRpdGV2ZW50cz4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIGkxaWlJSUkxMTFpaSA9IHJlIC4gY29tcGlsZSAoICc8dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBJSTEgPSByZSAuIGNvbXBpbGUgKCAnPGZhbmFydD4oLis/KTwvZmFuYXJ0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgT28wbzAwMDBvMG8wICggb29vT09PT08gLCBJMTEgLCAzMTcgLCBpMWlpSUlJMTExaWkgLCBJSTEgLCAnJyApCiAgIGVsaWYgIjxyZWRkaXRfc3VnZ2VzdGVkPiIgaW4gaTFpaUlJaWlJMTExIDoKICAgIG9vb09PT09PID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBJMTEgPSByZSAuIGNvbXBpbGUgKCAnPHJlZGRpdF9zdWdnZXN0ZWQ+KC4rPyk8L3JlZGRpdF9zdWdnZXN0ZWQ+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBpMWlpSUlJMTExaWkgPSByZSAuIGNvbXBpbGUgKCAnPHRodW1ibmFpbD4oLis/KTwvdGh1bWJuYWlsPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgSUkxID0gcmUgLiBjb21waWxlICggJzxmYW5hcnQ+KC4rPyk8L2ZhbmFydD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIE9vMG8wMDAwbzBvMCAoIG9vb09PT09PICwgSTExICwgMzIyICwgaTFpaUlJSTExMWlpICwgSUkxICwgJycgKQogICBpZiAnPHNwb3J0c2RldmlsPicgaW4gaTFpaUlJaWlJMTExIDoKICAgIGkxaUlJaTEgPSByZSAuIGNvbXBpbGUgKCAnPHNwb3J0c2RldmlsPiguKz8pPC9zcG9ydHNkZXZpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkKICAgIGlmIGxlbiAoIGkxaUlJaTEgKSA9PSAxIDoKICAgICBvb29PT09PTyA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+KC4rPyk8L3RpdGxlPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgIGkxaWlJSUkxMTFpaSA9IHJlIC4gY29tcGlsZSAoICc8dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICAgSTExID0gcmUgLiBjb21waWxlICggJzxzcG9ydHNkZXZpbD4oLis/KTwvc3BvcnRzZGV2aWw+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICAgaWkxMWlJaTFJID0gcmUgLiBjb21waWxlICggJzxyZWZlcmVyPiguKz8pPC9yZWZlcmVyPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgIGlJMTExSTExSTFJMSA9IGlpMTFpSWkxSQogICAgIE9Pb29PME9Pb28gPSAiLyIKICAgICBpZiBub3QgaUkxMTFJMTFJMUkxIC4gZW5kc3dpdGggKCBPT29vTzBPT29vICkgOgogICAgICBpSWlpMSA9IGlJMTExSTExSTFJMSArICIvIgogICAgIGVsc2UgOgogICAgICBpSWlpMSA9IGlJMTExSTExSTFJMQogICAgIG9PMG8wbzBvb08wb08gPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLlNwb3J0c0RldmlsLz9tb2RlPTEmYW1wO2l0ZW09Y2F0Y2hlciUzZHN0cmVhbXMlMjZ1cmw9JyArIEkxMQogICAgIEkxMSA9IG9PMG8wbzBvb08wb08gKyAnJTI2cmVmZXJlcj0nICsgaUlpaTEKICAgICBvT28wb29vbzAwbyAoIG9vb09PT09PICwgSTExICwgNCAsIGkxaWlJSUkxMTFpaSAsIElJMSApCiAgICBlbGlmIGxlbiAoIGkxaUlJaTEgKSA+IDEgOgogICAgIG9vb09PT09PID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICAgaTFpaUlJSTExMWlpID0gcmUgLiBjb21waWxlICggJzx0aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgICBJSTEgPSByZSAuIGNvbXBpbGUgKCAnPGZhbmFydD4oLis/KTwvZmFuYXJ0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgIG9PbzBvb29vMDBvICggb29vT09PT08gLCB1cmwyICwgOCAsIGkxaWlJSUkxMTFpaSAsIElJMSApCiAgIGVsaWYgJzxmb2xkZXI+JyBpbiBpMWlpSUlpaUkxMTEgOgogICAgb09Pb08wID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+Lis/Zm9sZGVyPiguKz8pPC9mb2xkZXI+Lis/dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+Lis/ZmFuYXJ0PiguKz8pPC9mYW5hcnQ+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApCiAgICBmb3Igb29vT09PT08gLCBJMTEgLCBpMWlpSUlJMTExaWkgLCBJSTEgaW4gb09Pb08wIDoKICAgICBPbzBvMDAwMG8wbzAgKCBvb29PT09PTyAsIEkxMSAsIDEgLCBpMWlpSUlJMTExaWkgLCBJSTEgKQogICBlbHNlIDoKICAgIGkxaUlJaTEgPSByZSAuIGNvbXBpbGUgKCAnPGxpbms+KC4rPyk8L2xpbms+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApCiAgICBpZiBsZW4gKCBpMWlJSWkxICkgPT0gMSA6CiAgICAgb09Pb08wID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+Lis/bGluaz4oLis/KTwvbGluaz4uKz90aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4uKz9mYW5hcnQ+KC4rPyk8L2ZhbmFydD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkKICAgICBPME9vTzAwME8wT08gPSBsZW4gKCBvTyApCiAgICAgZm9yIG9vb09PT09PICwgSTExICwgaTFpaUlJSTExMWlpICwgSUkxIGluIG9PT29PMCA6CiAgICAgIGlmICd5b3V0dWJlLmNvbS9wbGF5bGlzdCcgaW4gSTExIDoKICAgICAgIE9vMG8wMDAwbzBvMCAoIG9vb09PT09PICwgSTExICwgMiAsIGkxaWlJSUkxMTFpaSAsIElJMSApCiAgICAgIGVsc2UgOgogICAgICAgaWlJMUlpSSAoIG9vb09PT09PICwgSTExICwgMiAsIGkxaWlJSUkxMTFpaSAsIElJMSApCiAgICBlbGlmIGxlbiAoIGkxaUlJaTEgKSA+IDEgOgogICAgIG9vb09PT09PID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICAgaTFpaUlJSTExMWlpID0gcmUgLiBjb21waWxlICggJzx0aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgICBJSTEgPSByZSAuIGNvbXBpbGUgKCAnPGZhbmFydD4oLis/KTwvZmFuYXJ0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgIGlpSTFJaUkgKCBvb29PT09PTyAsIHVybDIgLCAzICwgaTFpaUlJSTExMWlpICwgSUkxICkKICBleGNlcHQgOiBwYXNzCiAgSUkgKCBvTzBvMG8wb29PMG9PICkKICBpZiA1NyAtIDU3OiBvb09vbzBPCiAgaWYgNzYgLSA3NjogaTFJSTFJMTEgLyBpMUkgLyBPTzBvT29vIC8gb28wT28wME9vMCAlIG9PT08wMG8KICBpZiA5NyAtIDk3OiBvMG8wT09PMG8wICUgSUlJSSAlIG8wTzAgLiBvMAogIGlmIDkgLSA5OiBPTzBvbzBvT08gKyBJMWlpaSAtIElpaUkxMUlpaWlpIC8gSTFJMWkgLyBvT09Pb28wTzBPb08KICBpZiA2IC0gNjogb28wTzBvT09PMDBvTwogICN2aWV3KGxpbmspCmRlZiBPb29Pb29vb09Pb28wICggdGV4dCApIDoKIGlmIDcxIC0gNzE6IG9PT09vbzBPME9vTyAlIG8wTzAgJSBvMAogdGV4dCA9IHN0ciAoIHRleHQgKQogdGV4dCA9IHRleHQgLiByZXBsYWNlICggJ1xccicgLCAnJyApCiB0ZXh0ID0gdGV4dCAuIHJlcGxhY2UgKCAnXFxuJyAsICcnICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICdcXHQnICwgJycgKQogdGV4dCA9IHRleHQgLiByZXBsYWNlICggJ1xcJyAsICcnICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICc8YnIgLz4nICwgJ1xuJyApCiB0ZXh0ID0gdGV4dCAuIHJlcGxhY2UgKCAnPGhyIC8+JyAsICcnICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICcmIzAzOTsnICwgIiciICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICcmIzM5OycgLCAiJyIgKQogdGV4dCA9IHRleHQgLiByZXBsYWNlICggJyZxdW90OycgLCAnIicgKQogdGV4dCA9IHRleHQgLiByZXBsYWNlICggJyZyc3F1bzsnICwgIiciICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICcmYW1wOycgLCAiJiIgKQogdGV4dCA9IHRleHQgLiByZXBsYWNlICggJyYjODIxMTsnICwgIiYiICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICcmIzgyMTc7JyAsICInIiApCiB0ZXh0ID0gdGV4dCAuIHJlcGxhY2UgKCAnJiMwMzg7JyAsICImIiApCiB0ZXh0ID0gdGV4dCAuIHJlcGxhY2UgKCAnJiM4MjExOycgLCAiLSIgKQogdGV4dCA9IHRleHQgLiBsc3RyaXAgKCAnICcgKQogdGV4dCA9IHRleHQgLiBsc3RyaXAgKCAnCScgKQogaWYgOTQgLSA5NDogbzBPMCAtIElpaUkxMUlpaWlpICogTzBPbzBvTzBvCiByZXR1cm4gdGV4dAogaWYgMTcgLSAxNzogSUlJSSAlIGkxSUkxSTExCmRlZiBpMTEgKCApIDoKIEkxSUlpaUlpaWkgPSBPMDAwb28wTyAoIGlpSUlJSUkxaTFpSSApCiBpZiBsZW4gKCBJMUlJaWlJaWlpICkgPiAxIDoKICBPT09PID0geGJtY2FkZG9uIC4gQWRkb24gKCApIC4gZ2V0QWRkb25JbmZvICggJ3BhdGgnICkKICBpMTFpMSA9IG9zIC4gcGF0aCAuIGpvaW4gKCBvcyAuIHBhdGggLiBqb2luICggT09PTyAsICcnICkgLCAnY29tcGFyZS50eHQnICkKICBJSUlpaTFJSTFJSSA9IG9wZW4gKCBpMTFpMSApCiAgaTFJMWlJID0gSUlJaWkxSUkxSUkgLiByZWFkICggKQogIGlmIGkxSTFpSSA9PSBJMUlJaWlJaWlpIDogcGFzcwogIGVsc2UgOgogICBvbzBPb29PT28wICggJ1tCXVtDT0xPUiB3aGl0ZV1JTVBPUlRBTlRbL0NPTE9SXSBbQ09MT1IgcmVkXU5FV1NbL0NPTE9SXSBbQ09MT1Igd2hpdGVdQU5EWy9DT0xPUl0gW0NPTE9SIHJlZF1JTkZPWy9DT0xPUl1bL0JdJyAsIEkxSUlpaUlpaWkgKQogICBvME9PMDBvTyA9IG9wZW4gKCBpMTFpMSAsICJ3IiApCiAgIG8wT08wMG9PIC4gd3JpdGUgKCBJMUlJaWlJaWlpICkKICAgbzBPTzAwb08gLiBjbG9zZSAoICkKICAgaWYgMzkgLSAzOTogSTFJMWkgLSBpMUlJMUkxMSAqIG9vME9vMDBPbzAgJSBvMG8wT09PMG8wICogaTFJSTFJMTEgJSBpMUlJMUkxMQpkZWYgT29PT09PTyAoICkgOgogcmVzb2x2ZXVybCAuIGRpc3BsYXlfc2V0dGluZ3MgKCApCiBpZiAzMyAtIDMzOiBJSUlJICUgb29Pb28wTwpkZWYgbzAwT08wME9vTyAoIG5hbWUgLCB1cmwgLCBpY29uaW1hZ2UgLCBmYW5hcnQgKSA6CiBPT09PME9Pb08wTzAgPSB1cmwKIG9PMG8wbzBvb08wb08gPSBvbzBvME8wMCAoIHVybCApCiBpZiA2NSAtIDY1OiBJMUkxaSAqIGkxSSArIEkxaWlpICUgaTExaUlpaUlpaSAqIG8wTzAgLiBvT09Pb28wTzBPb08KIG9PID0gcmUgLiBjb21waWxlICggJzxpdGVtPiguKz8pPC9pdGVtPicgKSAuIGZpbmRhbGwgKCBvTzBvMG8wb29PMG9PICkKIGZvciBpMWlpSUlpaUkxMTEgaW4gb08gOgogIHRyeSA6CiAgIGlmICc8Y2hhbm5lbD4nIGluIGkxaWlJSWlpSTExMSA6CiAgICBuYW1lID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBpY29uaW1hZ2UgPSByZSAuIGNvbXBpbGUgKCAnPHRodW1ibmFpbD4oLis/KTwvdGh1bWJuYWlsPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgZmFuYXJ0ID0gcmUgLiBjb21waWxlICggJzxmYW5hcnQ+KC4rPyk8L2ZhbmFydD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIHVybCA9IHJlIC4gY29tcGlsZSAoICc8Y2hhbm5lbD4oLis/KTwvY2hhbm5lbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIE9vMG8wMDAwbzBvMCAoIG5hbWUgLCB1cmwgLCA2ICwgaWNvbmltYWdlICwgZmFuYXJ0ICkKICAgaWYgJzxpbWFnZT4nIGluIGkxaWlJSWlpSTExMSA6CiAgICBuYW1lID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBpY29uaW1hZ2UgPSByZSAuIGNvbXBpbGUgKCAnPHRodW1ibmFpbD4oLis/KTwvdGh1bWJuYWlsPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgZmFuYXJ0ID0gcmUgLiBjb21waWxlICggJzxmYW5hcnQ+KC4rPyk8L2ZhbmFydD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIHVybCA9IHJlIC4gY29tcGlsZSAoICc8aW1hZ2U+KC4rPyk8L2ltYWdlPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgT28wbzAwMDBvMG8wICggbmFtZSAsIGljb25pbWFnZSAsIDkgLCBpY29uaW1hZ2UgLCBmYW5hcnQgKQogICBlbGlmICc8cGxheWxpc3Q+JyBpbiBpMWlpSUlpaUkxMTEgOgogICAgbmFtZSA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+KC4rPyk8L3RpdGxlPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgaWNvbmltYWdlID0gcmUgLiBjb21waWxlICggJzx0aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIGZhbmFydCA9IHJlIC4gY29tcGlsZSAoICc8ZmFuYXJ0PiguKz8pPC9mYW5hcnQ+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICB1cmwgPSByZSAuIGNvbXBpbGUgKCAnPHBsYXlsaXN0PiguKz8pPC9wbGF5bGlzdD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIE9vMG8wMDAwbzBvMCAoIG5hbWUgLCB1cmwgLCA0MyAsIGljb25pbWFnZSAsIGZhbmFydCApCiAgIGVsaWYgIjxyZWRkaXQ+IiBpbiBpMWlpSUlpaUkxMTEgOgogICAgbmFtZSA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+KC4rPyk8L3RpdGxlPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgdXJsID0gcmUgLiBjb21waWxlICggJzxyZWRkaXQ+KC4rPyk8L3JlZGRpdD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIGljb25pbWFnZSA9IHJlIC4gY29tcGlsZSAoICc8dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBmYW5hcnQgPSByZSAuIGNvbXBpbGUgKCAnPGZhbmFydD4oLis/KTwvZmFuYXJ0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgT28wbzAwMDBvMG8wICggbmFtZSAsICd1cmwnICwgMzIwICwgaWNvbmltYWdlICwgZmFuYXJ0ICwgJycgKQogICBlbGlmICI8cmVkZGl0X2xpbms+IiBpbiBpMWlpSUlpaUkxMTEgOgogICAgbmFtZSA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+KC4rPyk8L3RpdGxlPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgdXJsID0gcmUgLiBjb21waWxlICggJzxyZWRkaXRfbGluaz4oLis/KTwvcmVkZGl0X2xpbms+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBpY29uaW1hZ2UgPSByZSAuIGNvbXBpbGUgKCAnPHRodW1ibmFpbD4oLis/KTwvdGh1bWJuYWlsPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgZmFuYXJ0ID0gcmUgLiBjb21waWxlICggJzxmYW5hcnQ+KC4rPyk8L2ZhbmFydD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIE9vMG8wMDAwbzBvMCAoIG5hbWUgLCB1cmwgLCAzMTkgLCBpY29uaW1hZ2UgLCBmYW5hcnQgLCAnJyApCiAgIGVsaWYgIjxyZWRkaXRldmVudHM+IiBpbiBpMWlpSUlpaUkxMTEgOgogICAgbmFtZSA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+KC4rPyk8L3RpdGxlPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgdXJsID0gcmUgLiBjb21waWxlICggJzxyZWRkaXRldmVudHM+KC4rPyk8L3JlZGRpdGV2ZW50cz4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIGljb25pbWFnZSA9IHJlIC4gY29tcGlsZSAoICc8dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBmYW5hcnQgPSByZSAuIGNvbXBpbGUgKCAnPGZhbmFydD4oLis/KTwvZmFuYXJ0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgT28wbzAwMDBvMG8wICggbmFtZSAsIHVybCAsIDMxNyAsIGljb25pbWFnZSAsIGZhbmFydCAsICcnICkKICAgZWxpZiAiPHJlZGRpdF9zdWdnZXN0ZWQ+IiBpbiBpMWlpSUlpaUkxMTEgOgogICAgbmFtZSA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+KC4rPyk8L3RpdGxlPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgdXJsID0gcmUgLiBjb21waWxlICggJzxyZWRkaXRfc3VnZ2VzdGVkPiguKz8pPC9yZWRkaXRfc3VnZ2VzdGVkPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgaWNvbmltYWdlID0gcmUgLiBjb21waWxlICggJzx0aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIGZhbmFydCA9IHJlIC4gY29tcGlsZSAoICc8ZmFuYXJ0PiguKz8pPC9mYW5hcnQ+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBPbzBvMDAwMG8wbzAgKCBuYW1lICwgdXJsICwgMzIyICwgaWNvbmltYWdlICwgZmFuYXJ0ICwgJycgKQogICAgaWYgMTAwIC0gMTAwOiBPME9vMG9PMG8gKyBJMUkxaSAtIG8wICsgaTExaUlpaUlpaSAqIEkxaWlpCiAgIGVsaWYgJzxkeC10dj4nIGluIGkxaWlJSWlpSTExMSA6CiAgICBuYW1lID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBpY29uaW1hZ2UgPSByZSAuIGNvbXBpbGUgKCAnPHRodW1ibmFpbD4oLis/KTwvdGh1bWJuYWlsPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgZmFuYXJ0ID0gcmUgLiBjb21waWxlICggJzxmYW5hcnQ+KC4rPyk8L2ZhbmFydD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIHVybCA9IHJlIC4gY29tcGlsZSAoICc8ZHgtdHY+KC4rPyk8L2R4LXR2PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgT28wbzAwMDBvMG8wICggbmFtZSAsIHVybCAsIDEzICwgaWNvbmltYWdlICwgZmFuYXJ0ICkKICAgZWxpZiAoICc8c3BvcnRzZGV2aWw+JyBpbiBpMWlpSUlpaUkxMTEgKSBhbmQgKCAnPGxpbms+JyBpbiBpMWlpSUlpaUkxMTEgKSA6CiAgICBuYW1lID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBpY29uaW1hZ2UgPSByZSAuIGNvbXBpbGUgKCAnPHRodW1ibmFpbD4oLis/KTwvdGh1bWJuYWlsPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgZmFuYXJ0ID0gcmUgLiBjb21waWxlICggJzxmYW5hcnQ+KC4rPyk8L2ZhbmFydD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgIG9PbzBvb29vMDBvICggbmFtZSAsIE9PT08wT09vTzBPMCAsIDggLCBpY29uaW1hZ2UgLCBmYW5hcnQgKQogICBpZiAnPHNwb3J0c2RldmlsPicgaW4gaTFpaUlJaWlJMTExIDoKICAgIGkxaUlJaTEgPSByZSAuIGNvbXBpbGUgKCAnPHNwb3J0c2RldmlsPiguKz8pPC9zcG9ydHNkZXZpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkKICAgIGlmIGxlbiAoIGkxaUlJaTEgKSA9PSAxIDoKICAgICBuYW1lID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICAgaWNvbmltYWdlID0gcmUgLiBjb21waWxlICggJzx0aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgICB1cmwgPSByZSAuIGNvbXBpbGUgKCAnPHNwb3J0c2RldmlsPiguKz8pPC9zcG9ydHNkZXZpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgICBpaTExaUlpMUkgPSByZSAuIGNvbXBpbGUgKCAnPHJlZmVyZXI+KC4rPyk8L3JlZmVyZXI+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICAgaUkxMTFJMTFJMUkxID0gaWkxMWlJaTFJCiAgICAgT09vb08wT09vbyA9ICIvIgogICAgIGlmIG5vdCBpSTExMUkxMUkxSTEgLiBlbmRzd2l0aCAoIE9Pb29PME9Pb28gKSA6CiAgICAgIGlJaWkxID0gaUkxMTFJMTFJMUkxICsgIi8iCiAgICAgZWxzZSA6CiAgICAgIGlJaWkxID0gaUkxMTFJMTFJMUkxCiAgICAgb08wbzBvMG9vTzBvTyA9ICdwbHVnaW46Ly9wbHVnaW4udmlkZW8uU3BvcnRzRGV2aWwvP21vZGU9MSZhbXA7aXRlbT1jYXRjaGVyJTNkc3RyZWFtcyUyNnVybD0nICsgdXJsCiAgICAgdXJsID0gb08wbzBvMG9vTzBvTyArICclMjZyZWZlcmVyPScgKyBpSWlpMQogICAgIG9PbzBvb29vMDBvICggbmFtZSAsIHVybCAsIDQgLCBpY29uaW1hZ2UgLCBmYW5hcnQgKQogICAgZWxpZiBsZW4gKCBpMWlJSWkxICkgPiAxIDoKICAgICBuYW1lID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICAgaWNvbmltYWdlID0gcmUgLiBjb21waWxlICggJzx0aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgICBmYW5hcnQgPSByZSAuIGNvbXBpbGUgKCAnPGZhbmFydD4oLis/KTwvZmFuYXJ0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgIG9PbzBvb29vMDBvICggbmFtZSAsIE9PT08wT09vTzBPMCAsIDggLCBpY29uaW1hZ2UgLCBmYW5hcnQgKQogICAgIGlmIDMwIC0gMzA6IG8wbzBPT08wbzAgLiBJMWlpaSAtIGkxaUlpaTFJaTFJSQogICBlbGlmICc8Zm9sZGVyPicgaW4gaTFpaUlJaWlJMTExIDoKICAgIG9PT29PMCA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+KC4rPyk8L3RpdGxlPi4rP2ZvbGRlcj4oLis/KTwvZm9sZGVyPi4rP3RodW1ibmFpbD4oLis/KTwvdGh1bWJuYWlsPi4rP2ZhbmFydD4oLis/KTwvZmFuYXJ0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKQogICAgZm9yIG5hbWUgLCB1cmwgLCBpY29uaW1hZ2UgLCBmYW5hcnQgaW4gb09Pb08wIDoKICAgICBPbzBvMDAwMG8wbzAgKCBuYW1lICwgdXJsICwgMSAsIGljb25pbWFnZSAsIGZhbmFydCApCiAgIGVsc2UgOgogICAgaTFpSUlpMSA9IHJlIC4gY29tcGlsZSAoICc8bGluaz4oLis/KTwvbGluaz4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkKICAgIGlmIGxlbiAoIGkxaUlJaTEgKSA9PSAxIDoKICAgICBvT09vTzAgPSByZSAuIGNvbXBpbGUgKCAnPHRpdGxlPiguKz8pPC90aXRsZT4uKz9saW5rPiguKz8pPC9saW5rPi4rP3RodW1ibmFpbD4oLis/KTwvdGh1bWJuYWlsPi4rP2ZhbmFydD4oLis/KTwvZmFuYXJ0PicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKQogICAgIE8wT29PMDAwTzBPTyA9IGxlbiAoIG9PICkKICAgICBmb3IgbmFtZSAsIHVybCAsIGljb25pbWFnZSAsIGZhbmFydCBpbiBvT09vTzAgOgogICAgICBpZiAneW91dHViZS5jb20vcGxheWxpc3QnIGluIHVybCA6CiAgICAgICBPbzBvMDAwMG8wbzAgKCBuYW1lICwgdXJsICwgMiAsIGljb25pbWFnZSAsIGZhbmFydCApCiAgICAgIGVsc2UgOgogICAgICAgaWlJMUlpSSAoIG5hbWUgLCB1cmwgLCAyICwgaWNvbmltYWdlICwgZmFuYXJ0ICkKICAgIGVsaWYgbGVuICggaTFpSUlpMSApID4gMSA6CiAgICAgbmFtZSA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+KC4rPyk8L3RpdGxlPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgIGljb25pbWFnZSA9IHJlIC4gY29tcGlsZSAoICc8dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICAgZmFuYXJ0ID0gcmUgLiBjb21waWxlICggJzxmYW5hcnQ+KC4rPyk8L2ZhbmFydD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgICBpaUkxSWlJICggbmFtZSAsIE9PT08wT09vTzBPMCAsIDMgLCBpY29uaW1hZ2UgLCBmYW5hcnQgKQogIGV4Y2VwdCA6IHBhc3MKICBJSSAoIG9PMG8wbzBvb08wb08gKQogIGlmIDggLSA4OiBvb09vbzBPIC0gSUkxaUkgKiBpMUlJMUkxMSArIGkxMWlJaWlJaWkgLyBvT09Pb28wTzBPb08gJSBvMApkZWYgaUlJSWkxICggdXJsICkgOgogaWYgMjAgLSAyMDogb29Pb28wTyArIElJSUkgLSBvbzBPMG9PT08wMG9PCiBJaUkxMWlJSTEgPSBSVU5ORVIgKyB1cmwKIG9PMG8wbzBvb08wb08gPSBvbzBvME8wMCAoIElpSTExaUlJMSApCiBJSUlJMTFJMUkgPSAiPHZpZGVvPiguKj8pPC92aWRlbz4iCiBPT08wbyA9IHJlIC4gZmluZGFsbCAoIElJSUkxMUkxSSAsIG9PMG8wbzBvb08wb08gLCByZSAuIERPVEFMTCApCiBpZiAzMCAtIDMwOiBJSTFpSSAvIG9vME8wb09PTzAwb08gLSBvT09Pb28wTzBPb08gLSBpMUlJMUkxMSAlIElpaUkxMUlpaWlpCiBJSWkxaTExMTExID0gWyBdCiBmb3Igb29PTzAwTzAwb28gaW4gT09PMG8gOgogIGkxaWlJSWlpSTExMSA9IHsgfQogIGkxaWlJSWlpSTExMSBbICJuYW1lIiBdID0gSTFpaTExaUkgKCBvb09PMDBPMDBvbyAsICI8bmFtZT4oW148XSspPC9uYW1lPiIgKQogIGkxaWlJSWlpSTExMSBbICJ1cmwiIF0gPSBiYXNlNjQgLiBiNjRkZWNvZGUgKCBiImNHeDFaMmx1T2k4dmNHeDFaMmx1TG5acFpHVnZMbmx2ZFhSMVltVXZjR3hoZVM4L2RtbGtaVzlmYVdROSIgKSArIEkxaWkxMWlJICggb29PTzAwTzAwb28gLCAiPGlkPihbXjxdKyk8L2lkPiIgKQogIGkxaWlJSWlpSTExMSBbICJhdXRob3IiIF0gPSBJMWlpMTFpSSAoIG9vT08wME8wMG9vICwgIjxhdXRob3I+KFtePF0rKTwvYXV0aG9yPiIgKQogIGkxaWlJSWlpSTExMSBbICJpY29uaW1hZ2UiIF0gPSBJMWlpMTFpSSAoIG9vT08wME8wMG9vICwgIjxpY29uaW1hZ2U+KFtePF0rKTwvaWNvbmltYWdlPiIgKQogIGkxaWlJSWlpSTExMSBbICJkYXRlIiBdID0gSTFpaTExaUkgKCBvb09PMDBPMDBvbyAsICI8ZGF0ZT4oW148XSspPC9kYXRlPiIgKQogIGlmIDE0IC0gMTQ6IG9PT08wMG8gLyBJMUkxaSAuIG9PT08wMG8gLiBPTzBvbzBvT08gJSBvbzBPbzAwT28wICogT08wb28wb09PCiAgaWlJMUlpSSAoICdbQ09MT1Igd2hpdGVdJyArIGkxaWlJSWlpSTExMSBbICJuYW1lIiBdICsgJyAtIG9uICcgKyBpMWlpSUlpaUkxMTEgWyAiZGF0ZSIgXSArICdbL0NPTE9SXScgLCBpMWlpSUlpaUkxMTEgWyAidXJsIiBdICwgNyAsIGkxaWlJSWlpSTExMSBbICJpY29uaW1hZ2UiIF0gLCBJSTEgKQogIGlmIDE2IC0gMTY6IG9PT08wMG8gLiBvbzBPMG9PT08wMG9PICsgaTExaUlpaUlpaQogIGlmIDM4IC0gMzg6IEkxSTFpICogbzAgLiBvMG8wT09PMG8wCiAgaWYgOTggLSA5ODogaTFpSWlpMUlpMUlJICsgSWlpSTExSWlpaWkgLiBvT09PMDBvCmRlZiBPb29Pb29vb09Pb28wICggdGV4dCApIDoKIGlmIDY3IC0gNjc6IGkxMWlJaWlJaWkgLSBvb09vbzBPICUgSUlJSSAuIE8wT28wb08wbwogdGV4dCA9IHN0ciAoIHRleHQgKQogdGV4dCA9IHRleHQgLiByZXBsYWNlICggJ1xccicgLCAnJyApCiB0ZXh0ID0gdGV4dCAuIHJlcGxhY2UgKCAnXFxuJyAsICcnICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICdcXHQnICwgJycgKQogdGV4dCA9IHRleHQgLiByZXBsYWNlICggJ1xcJyAsICcnICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICc8YnIgLz4nICwgJ1xuJyApCiB0ZXh0ID0gdGV4dCAuIHJlcGxhY2UgKCAnPGhyIC8+JyAsICcnICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICcmIzAzOTsnICwgIiciICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICcmIzM5OycgLCAiJyIgKQogdGV4dCA9IHRleHQgLiByZXBsYWNlICggJyZxdW90OycgLCAnIicgKQogdGV4dCA9IHRleHQgLiByZXBsYWNlICggJyZyc3F1bzsnICwgIiciICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICcmYW1wOycgLCAiJiIgKQogdGV4dCA9IHRleHQgLiByZXBsYWNlICggJyYjODIxMTsnICwgIiYiICkKIHRleHQgPSB0ZXh0IC4gcmVwbGFjZSAoICcmIzgyMTc7JyAsICInIiApCiB0ZXh0ID0gdGV4dCAuIHJlcGxhY2UgKCAnJiMwMzg7JyAsICImIiApCiB0ZXh0ID0gdGV4dCAuIHJlcGxhY2UgKCAnJm5ic3A7JyAsICIgIiApCiB0ZXh0ID0gdGV4dCAuIGxzdHJpcCAoICcgJyApCiB0ZXh0ID0gdGV4dCAuIGxzdHJpcCAoICcgICAgJyApCiBpZiA3NyAtIDc3OiBJMUkxaSAvIGkxSQpkZWYgSTEgKCApIDoKIEkxSUlpaUlpaWkgPSBPMDAwb28wTyAoIEkxaTFpaUkxICkKIGlmIGxlbiAoIEkxSUlpaUlpaWkgKSA+IDEgOgogIE9PT08gPSB4Ym1jYWRkb24gLiBBZGRvbiAoICkgLiBnZXRBZGRvbkluZm8gKCAncGF0aCcgKQogIG9vME9vb09PbzAgKCAnW0JdW0NPTE9SIHdoaXRlXVdoYXRzWy9DT0xPUl0gW0NPTE9SIHJlZF1OZXdbL0NPTE9SXVsvQl0nICwgSTFJSWlpSWlpaSApCiAgcXVpdCAoICkKICBpZiAxNSAtIDE1OiBpMUlJMUkxMQpkZWYgSWkgKCB1cmwgKSA6CiBpZiA3OSAtIDc5OiBpMWlJaWkxSWkxSUkgLyBPME9vMG9PMG8KIE9PME9vTzBvMDAgPSBvbzBvME8wMCAoIHVybCApCiBvTyA9IHJlIC4gY29tcGlsZSAoICc8YXJ0aWNsZSBjbGFzcz0iLis/Ij4uKz88YSBocmVmPSIoLis/KSIgdGl0bGU9IiguKz8pIiByZWw9Im5vZm9sbG93IiBpZD0iZmVhdHVyZWQtdGh1bWJuYWlsIj4uKz88aW1nLis/c3JjPSIoLis/KSIuKz88L2FydGljbGU+JyAsIHJlIC4gRE9UQUxMICkgLiBmaW5kYWxsICggT08wT29PMG8wMCApCiBmb3IgT09PTzBPT29PME8wICwgb29vT09PT08gLCBvb09PME8wb29Pb29PIGluIG9PIDoKICBvb29PT09PTyA9IG9vb09PT09PIC4gcmVwbGFjZSAoICdXYXRjaCcgLCAnJyApIC4gcmVwbGFjZSAoICdEb3dubG9hZCcgLCAnJyApIC4gcmVwbGFjZSAoICdvbmxpbmUnICwgJycgKSAuIHJlcGxhY2UgKCAnLycgLCAnJyApIC4gZW5jb2RlICggJ3V0Zi04JyApIC4gbHN0cmlwICggKQogIE9PT08wT09vTzBPMCA9IE9PT08wT09vTzBPMCAuIGVuY29kZSAoICd1dGYtOCcgKQogIGkxaWlJSUkxMTFpaSA9IG9vT08wTzBvb09vb08gLiBlbmNvZGUgKCAndXRmLTgnICkKICBpaUkxSWlJICggb29vT09PT08gLCBPT09PME9Pb08wTzAgLCAxNSAsIGkxaWlJSUkxMTFpaSAsIElJMSApCiBvT09PbzAwTzAwb09vID0gcmUgLiBjb21waWxlICggIjxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uIHBhZ2luYXRpb24tbnVtZXJpY1wiPi4rPzxsaSBjbGFzcz0nY3VycmVudCc+PHNwYW4gY2xhc3M9J2N1cnJlbnR0ZXh0Jz4uKz88L3NwYW4+PC9saT48bGk+PGEgcmVsPSdub2ZvbGxvdycgaHJlZj0nKC4rPyknIGNsYXNzPSdpbmFjdGl2ZSc+Lis/PC9hPiIgKSAuIGZpbmRhbGwgKCBPTzBPb08wbzAwICkKIGZvciBPT09vMCBpbiBvT09PbzAwTzAwb09vIDoKICBPbzBvMDAwMG8wbzAgKCAnTmV4dCBQYWdlIC0tPicgLCBPT09vMCAsIDEzICwgSTFJaWlJICwgSUkxICkKICBpZiAzNCAtIDM0OiBPME9vMG9PMG8gKyBvMCArIE9PMG9Pb28KZGVmIEkxaTFJSUlpaUlJMSAoIG5hbWUgLCB1cmwgKSA6CiBpZiA4NyAtIDg3OiBvME8wICogSUlJSSArIG8wIC8gSUkxaUkgLyBJaWlJMTFJaWlpaQogeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkFjdGl2YXRlV2luZG93KGJ1c3lkaWFsb2cpIiApCiBpZiAzNyAtIDM3OiBJaWlJMTFJaWlpaSAtIG9vME8wb09PTzAwb08gKiBvME8wICUgaTExaUlpaUlpaSAtIG9PT09vbzBPME9vTwogSUlJaWkxSUkxSUkgPSBvbzBvME8wMCAoIHVybCApCiBJSUlpaTFJSTFJSSA9IHJlIC4gY29tcGlsZSAoICc8aWZyYW0uKz9zcmM9IiguKz8pIicgKSAuIGZpbmRhbGwgKCBJSUlpaTFJSTFJSSApCiBpZiA4MyAtIDgzOiBPTzBvbzBvT08gLyBpMUkKIGlmIGxlbiAoIElJSWlpMUlJMUlJICkgPT0gMCA6IHF1aXQgKCApCiBlbGlmIGxlbiAoIElJSWlpMUlJMUlJICkgPj0gMSA6CiAgaUlJaUlpMWlJSUkxID0gWyBdCiAgT29vID0gWyBdCiAgT09PT28gPSAwCiAgZm9yIG9vME8wb08gaW4gSUlJaWkxSUkxSUkgOgogICBvbzBPMG9PID0gb28wTzBvTyAuIGxzdHJpcCAoICkKICAgaWYgcmVzb2x2ZXVybCAuIEhvc3RlZE1lZGlhRmlsZSAoIG9vME8wb08gKSAuIHZhbGlkX3VybCAoICkgOgogICAgT09PT28gKz0gMQogICAgaUlJaUlpMWlJSUkxIC4gYXBwZW5kICggb28wTzBvTyApCiAgICBPb28gLiBhcHBlbmQgKCAnTGluayAlcycgJSBzdHIgKCBPT09PbyApICkKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiRGlhbG9nLkNsb3NlKGJ1c3lkaWFsb2cpIiApCiAgaWYgbGVuICggaUlJaUlpMWlJSUkxICkgPT0gMSA6IG9vb29vICggbmFtZSAsIGlJSWlJaTFpSUlJMSBbIDAgXSAsIEkxSWlpSSApCiAgZWxzZSA6CiAgIG9vMDAgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICBJSTFJID0gb28wMCAuIHNlbGVjdCAoIG5hbWUgLCBPb28gKQogICBpZiBJSTFJIDwgMCA6CiAgICBxdWl0ICggKQogICBlbHNlIDoKICAgIG9vb29vICggbmFtZSAsIGlJSWlJaTFpSUlJMSBbIElJMUkgXSAsIEkxSWlpSSApCiAgICBpZiA4NCAtIDg0OiBJMUkxaSAuIGkxMWlJaWlJaWkgLiBJMUkxaSAqIElJSUkgLSBPTzBvbzBvT08KZGVmIGlpICggKSA6CiBpZiA4MSAtIDgxOiBvT09Pb28wTzBPb08gJSBJaWlJMTFJaWlpaSAuIElJSUkgLyBvMG8wT09PMG8wCiBJSWkxaTExMTExID0ganNvbiAuIGxvYWRzICggb28wbzBPMDAgKCAnaHR0cDovL2NhbGVuZGFyLnVmYy5jb20vdW5pdGVka2luZ2RvbS9FdmVudHNMaXN0P2V2ZW50SWRzPSZleHRlcm5hbEV2ZW50SWRzPScgKSApCiBpZiA0MCAtIDQwOiBpMUkgKyBpMWlJaWkxSWkxSUkKIGlmIElJaTFpMTExMTEgOgogIGZvciBvME8wMDBvbyBpbiBJSWkxaTExMTExIFsgJ0RhdGFCYWcnIF0gOgogICBpZiAiTmFtZSIgaW4gbzBPMDAwb28gOgogICAgb29vT09PT08gPSBvME8wMDBvbyBbICdOYW1lJyBdIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgIGVsc2UgOgogICAgb29vT09PT08gPSAiTm8gTmFtZSBGb3VuZCIKICAgaWYgIlN0YXJ0RGF0ZVRpbWUiIGluIG8wTzAwMG9vIDoKICAgIElJaTFJMTFJMUlJID0gbzBPMDAwb28gWyAnU3RhcnREYXRlVGltZScgXSAuIGVuY29kZSAoICd1dGYtOCcgKQogICBlbHNlIDoKICAgIElJaTFJMTFJMUlJID0gIk5vIE5hbWUgRm91bmQiCiAgICBpZiA2MyAtIDYzOiBpMWlJaWkxSWkxSUkgLSBvbzBPbzAwT28wIC4gaTFJSTFJMTEgLyBvMG8wT09PMG8wIC4gb09PTzAwbyAvIE8wT28wb08wbwogICBPT09PbyAsIG9vME8wb08gPSBJSWkxSTExSTFJSSAuIHNwbGl0ICggJ1QnICkKICAgbzBPT09PMDBPME9vID0gT09PT28gLiBzcGxpdCAoICctJyApCiAgIE9PT09vID0gJycKICAgZm9yIGlpb09vb09PT29PbyBpbiByZXZlcnNlZCAoIG8wT09PTzAwTzBPbyApIDoKICAgIE9PT09vID0gT09PT28gKyBpaW9Pb29PT09vT28gKyAnLScKICAgT09PT28gPSBPT09PbyAuIHJzdHJpcCAoICctJyApCiAgIG8wT09PTzAwTzBPbyA9IG9vME8wb08gLiBzcGxpdCAoICc6JyApCiAgIG9vME8wb08gPSAnJwogICBmb3IgaWlvT29vT09Pb09vIGluIG8wT09PTzAwTzBPbyBbIDogLSAxIF0gOgogICAgb28wTzBvTyA9IG9vME8wb08gKyBpaW9Pb29PT09vT28gKyAnOicKICAgb28wTzBvTyA9IG9vME8wb08gLiByc3RyaXAgKCAnOicgKQogICBJSWkxSTExSTFJSSA9ICggJyVzIEdNVCAtICVzJyAlICggb28wTzBvTyAsIE9PT09vICkgKQogICBvb29PT09PTyA9IG9vb09PT09PIC4gcmVwbGFjZSAoICdceGYwXHg5Zlx4OTFceDhhICAnICwgJycgKQogICBpMUlpaTFpMUkgPSAoICdbQl1bQ09MT1Igd2hpdGVdJXNbL0NPTE9SXSB8IFtDT0xPUiByZWRdJXNbL0NPTE9SXVsvQl0nICUgKCBvb29PT09PTyAsIElJaTFJMTFJMUlJICkgKQogICBpaUkxSWlJICggaTFJaWkxaTFJICwgJ3VybCcgLCA5OTkgLCBjYWxfaWNvbiAsIE8wMG9vb29vMDAgKQogICBpZiA5MSAtIDkxOiBJSUlJICsgaTFJIC4gbzAgKiBJSUlJICsgaTFJICogT08wb09vbwogICBpZiA4MCAtIDgwOiBJaWlJMTFJaWlpaSAlIG8wICUgbzBPMCAtIE9PMG9Pb28gKyBPTzBvT29vCmRlZiBpSWlpaTFpMTExaUkxICggKSA6CiBpZiAxNCAtIDE0OiBJaWlJMTFJaWlpaSAuIElpaUkxMUlpaWlpICUgaTFpSWlpMUlpMUlJCiB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiQWN0aXZhdGVXaW5kb3coYnVzeWRpYWxvZykiICkKIGlmIDQ0IC0gNDQ6IG9vT29vME8gJSBpMUlJMUkxMSArIE9PMG9vMG9PTwogT28wbzAwMDBvMG8wICggJ0NsaWNrIGZvciBSZWNvbW1lbmRlZCBSZWRkaXRzJyAsICd1cmwnICwgMzIyICwgSTFJaWlJICwgTzAwb29vb28wMCApCiBpaUkxSWlJICggJ0FkZCBBIFJlZGRpdC9TdWJyZWRkaXQnICwgJ3VybCcgLCAzMjEgLCBJMUlpaUkgLCBPMDBvb29vbzAwICkKIGlpSTFJaUkgKCAnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nICwgJ3VybCcgLCA5OTkgLCBJMUlpaUkgLCBPMDBvb29vbzAwICkKIGlpSTFJaUkgKCAnVXNlciBBZGRlZCBSZWRkaXRzJyAsICd1cmwnICwgOTk5ICwgaTFpaUlJSTExMWlpICwgSUkxICkKIGlmIDQ1IC0gNDU6IElpaUkxMUlpaWlpIC8gSWlpSTExSWlpaWkgKyBvT09Pb28wTzBPb08gKyBvbzBPMG9PT08wMG9PCiBpZiBvcyAuIHBhdGggLiBleGlzdHMgKCBJaUkgKSA6CiAgbzBPT09PMDBPME9vID0gb3BlbiAoIElpSSAsIG1vZGUgPSAncicgKSA7IGlJMTExaSA9IG8wT09PTzAwTzBPbyAuIHJlYWQgKCApIDsgbzBPT09PMDBPME9vIC4gY2xvc2UgKCApCiAgaUkxMTFpID0gaUkxMTFpIC4gcmVwbGFjZSAoICdcbicgLCAnJyApCiAgaWYgJzxpdGVtPicgaW4gaUkxMTFpIDoKICAgb08gPSByZSAuIGNvbXBpbGUgKCAnPGl0ZW0+KC4rPyk8L2l0ZW0+JyApIC4gZmluZGFsbCAoIGlJMTExaSApCiAgIGZvciBpMWlpSUlpaUkxMTEgaW4gb08gOgogICAgb29vT09PT08gPSByZSAuIGNvbXBpbGUgKCAnPG5hbWU+KC4rPyk8L25hbWU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICBJMTEgPSByZSAuIGNvbXBpbGUgKCAnPHVybD4oLis/KTwvdXJsPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKSBbIDAgXQogICAgSUlpMTFpMWkxaUkxID0gWyBdCiAgICBJSWkxMWkxaTFpSTEgLiBhcHBlbmQgKCAoICdSZW1vdmUgZnJvbSBsaXN0JyAsICdYQk1DLlJ1blBsdWdpbiglcz9tb2RlPTMyMyZuYW1lPSVzJnVybD0lcyknICUgKCBzeXMgLiBhcmd2IFsgMCBdICwgb29vT09PT08gLCBJMTEgKSApICkKICAgIE9vMG8wMDAwbzBvMCAoICdbQ09MT1Igd2hpdGVdJyArIG9vb09PT09PIC4gZW5jb2RlICggJ3V0Zi04JyApICsgJ1svQ09MT1JdJyAsIEkxMSAuIGVuY29kZSAoICd1dGYtOCcgKSAsIDMxOSAsIGkxaWlJSUkxMTFpaSAsIElJMSAsICcnICwgSUlpMTFpMWkxaUkxICkKICBlbHNlIDogaWlJMUlpSSAoICdObyB1c2VyIGFkZGVkIFJlZGRpdHMgZGV0ZWN0ZWQuJyAsICd1cmwnICwgOTk5ICwgaTFpaUlJSTExMWlpICwgSUkxICkKIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJEaWFsb2cuQ2xvc2UoYnVzeWRpYWxvZykiICkKIGlmIDIzIC0gMjM6IGkxMWlJaWlJaWkgKyBvMG8wT09PMG8wIC4gb29Pb28wTwpkZWYgbzBPb28wMG8wT29vbyAoICkgOgogaWYgODQgLSA4NDogbzBvME9PTzBvMCAlIGkxSUkxSTExIC4gaTExaUlpaUlpaSAvIG9vME9vMDBPbzAKIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJBY3RpdmF0ZVdpbmRvdyhidXN5ZGlhbG9nKSIgKQogaWYgbm90IG9zIC4gcGF0aCAuIGlzZmlsZSAoIElpSSApIDoKICBvME9PT08wME8wT28gPSBvcGVuICggSWlJICwgJ3cnICkgOyBvME9PT08wME8wT28gLiB3cml0ZSAoICcjU1RBUlQgT0YgRklMRSMnICkgOyBvME9PT08wME8wT28gLiBjbG9zZSAoICkKICBpZiA4MCAtIDgwOiBvT09Pb28wTzBPb08gLiBpMTFpSWlpSWlpIC0gbzBvME9PTzBvMAogaUlpSUlpMSA9ICcnCiBJMUlJSUkxaSA9IHhibWMgLiBLZXlib2FyZCAoIGlJaUlJaTEgLCAnRW50ZXIgUmVkZGl0IFVSTC9OYW1lJyApCiBJMUlJSUkxaSAuIGRvTW9kYWwgKCApCiBpZiBJMUlJSUkxaSAuIGlzQ29uZmlybWVkICggKSA6CiAgaUlpSUlpMSA9IEkxSUlJSTFpIC4gZ2V0VGV4dCAoICkKICBpZiBsZW4gKCBpSWlJSWkxICkgPiAxIDoKICAgaWYgbm90ICdodHRwJyBpbiBpSWlJSWkxIC4gbG93ZXIgKCApIDogaUlpSUlpMSA9ICdodHRwczovL3d3dy5yZWRkaXQuY29tL3IvJyArIGlJaUlJaTEKICAgSUlJaWkxSUkxSUkgPSBJMUkxMWkgKCBpSWlJSWkxICkKICAgaWYgJzxwIGlkPSJub3Jlc3VsdHMiIGNsYXNzPSJlcnJvciI+JyBpbiBJSUlpaTFJSTFJSSA6CiAgICBvbzAwIC4gb2sgKCBPME8wT08wTzBPMCAsICdBbiBpbnZhbGlkIFVSTCBoYXMgYmVlbiBlbnRlcmVkLicgKQogICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkRpYWxvZy5DbG9zZShidXN5ZGlhbG9nKSIgKQogICAgcXVpdCAoICkKICAgSTExID0gaUlpSUlpMQogIGVsc2UgOgogICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiRGlhbG9nLkNsb3NlKGJ1c3lkaWFsb2cpIiApCiAgIHF1aXQgKCApCiBlbHNlIDoKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiRGlhbG9nLkNsb3NlKGJ1c3lkaWFsb2cpIiApCiAgcXVpdCAoICkKICBpZiA1IC0gNTogaTFpSWlpMUlpMUlJICUgb09PTzAwbyAlIG8wTzAgJSBJaWlJMTFJaWlpaQogdHJ5IDoKICBvb29PT09PTyA9IHJlIC4gY29tcGlsZSAoICc8aDEgY2xhc3M9ImhvdmVyIHJlZGRpdG5hbWUiPi4rPz4oLis/KTxcL2E+JyApIC4gZmluZGFsbCAoIElJSWlpMUlJMUlJICkgWyAwIF0KICBPT09PbyA9IG9wZW4gKCBJaUkgKSAuIHJlYWQgKCApCiAgb28wTzBvTyA9IE9PT09vIC4gcmVwbGFjZSAoICcjU1RBUlQgT0YgRklMRSMnICwgJyNTVEFSVCBPRiBGSUxFI1xuPGl0ZW0+XG48bmFtZT4nICsgc3RyICggb29vT09PT08gKSArICc8L25hbWU+XG48dXJsPicgKyBzdHIgKCBJMTEgKSArICc8L3VybD5cbjwvaXRlbT5cbicgKQogIG8wT09PTzAwTzBPbyA9IG9wZW4gKCBJaUkgLCBtb2RlID0gJ3cnICkKICBvME9PT08wME8wT28gLiB3cml0ZSAoIHN0ciAoIG9vME8wb08gKSApCiAgbzBPT09PMDBPME9vIC4gY2xvc2UgKCApCiBleGNlcHQgOgogIG9vMDAgLiBvayAoIE8wTzBPTzBPME8wICwgJ1NvcnJ5LCB3ZSB3ZXJlIHVuYWJsZSB0byBhZGQgdGhpcyBSZWRkaXQuJyApCiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkRpYWxvZy5DbG9zZShidXN5ZGlhbG9nKSIgKQogIHF1aXQgKCApCiBvbzAwIC4gb2sgKCBPME8wT08wTzBPMCAsIG9vb09PT09PICsgJyBoYXMgYmVlbiBhZGRlZCEnICkKIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJEaWFsb2cuQ2xvc2UoYnVzeWRpYWxvZykiICkKIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJDb250YWluZXIuUmVmcmVzaCIgKQogaWYgNyAtIDc6IGkxSUkxSTExICsgaTFpSWlpMUlpMUlJIC4gb09PT29vME8wT29PIC4gb28wTzBvT09PMDBvTyAtIG8wbzBPT08wbzAKZGVmIElJMTEgKCApIDoKIGlmIDM0IC0gMzQ6IE9PMG9Pb28KIElJSWlpMUlJMUlJID0gb28wbzBPMDAgKCAnaHR0cDovL3N1cHJlbWFjeS5vcmcudWsvTU1BL3N1Z2dlc3RlZC54bWwnICkKIGlmIDg5IC0gODk6IE9PMG9Pb28gKiBvT09PMDBvICogb09PT29vME8wT29PICsgSWlpSTExSWlpaWkgLSBPTzBvbzBvT08KIElJSWlpMUlJMUlJID0gcmUgLiBjb21waWxlICggJzxsaW5rPiguKz8pPC9saW5rPicgKSAuIGZpbmRhbGwgKCBJSUlpaTFJSTFJSSApCiBpZiA4IC0gODogbzBvME9PTzBvMCAlIE8wT28wb08wbyAvIGkxSSAtIG8wTzAKIGZvciBPTzBPb08wbzAwIGluIElJSWlpMUlJMUlJIDoKICBpZiA0MyAtIDQzOiBpMTFpSWlpSWlpICsgT08wb09vbyAqIGkxSUkxSTExICogb09PT29vME8wT29PICogTzBPbzBvTzBvCiAgSUlJaWkxSUkxSUkgPSBJMUkxMWkgKCBPTzBPb08wbzAwICkKICBpZiA2NCAtIDY0OiBvMCAlIElJMWlJICogbzBPMAogIHRyeSA6CiAgIG9vb09PT09PID0gcmUgLiBjb21waWxlICggJzxoMSBjbGFzcz0iaG92ZXIgcmVkZGl0bmFtZSI+Lis/PiguKz8pPFwvYT4nICkgLiBmaW5kYWxsICggSUlJaWkxSUkxSUkgKSBbIDAgXQogICBPbzBvMDAwMG8wbzAgKCBvb29PT09PTyAuIGVuY29kZSAoICd1dGYtOCcgKSAsIE9PME9vTzBvMDAgLCAzMTkgLCBJMUlpaUkgLCBPMDBvb29vbzAwICkKICBleGNlcHQgOiBwYXNzCiAgaWYgNzkgLSA3OTogTzBPbzBvTzBvCmRlZiBvT08wME8gKCB1cmwgKSA6CiBpZiA3NyAtIDc3OiBPTzBvT29vIC0gb29Pb28wTyAtIE9PMG9vMG9PTyAuIG9PT08wMG8KIElJSWlpMUlJMUlJID0gSTFJMTFpICggdXJsICkKIGlmIDM5IC0gMzk6IGkxSUkxSTExIC8gb28wTzBvT09PMDBvTyArIG9PT09vbzBPME9vTyAvIG9PT08wMG8KIGlmIG5vdCAnY29tbWVudHMnIGluIHVybCA6CiAgaWYgMTMgLSAxMzogSTFJMWkgKyBPME9vMG9PMG8gKyBJaWlJMTFJaWlpaSAlIGkxSSAvIG8wbzBPT08wbzAgLiBJMUkxaQogIE9PME9vb28wb09PME8gPSBbIF0gOyBvMDBPMCA9IFsgXSA7IG9PTzBPMDBPbzBPMG8gPSBbIF0gOyBpaTEgPSBbIF0gOyBJMWlJSWlpSUlpMWkgPSBbIF0KICB0cnkgOgogICBPME8wb29PT08gPSByZSAuIGNvbXBpbGUgKCAnPGgxIGNsYXNzPSJob3ZlciByZWRkaXRuYW1lIj4uKz8+KC4rPyk8XC9hPicgKSAuIGZpbmRhbGwgKCBJSUlpaTFJSTFJSSApIFsgMCBdCiAgIGlpSTFJaUkgKCAnW0NPTE9Sd2hpdGVdW0JdV2VsY29tZSB0byB0aGUgJyArIE8wTzBvb09PTyAuIHRpdGxlICggKSArICcgUmVkZGl0IVsvQl1bL0NPTE9SXScgLCAndXJsJyAsIDk5OSAsIEkxSWlpSSAsIElJMSApCiAgZXhjZXB0IDogcGFzcwogIGlmIDc3IC0gNzc6IG9PT08wMG8gLSBpMUlJMUkxMSAtIG9vME8wb09PTzAwb08KICBJSUlpaTFJSTFJSSA9IGRvbV9wYXJzZXIgLiBwYXJzZV9kb20gKCBJSUlpaTFJSTFJSSAsICdkaXYnICwgeyAnY2xhc3MnIDogcmUgLiBjb21waWxlICggJ1xzdGhpbmdcc2lkJyApIH0gKQogIGlmIDQ5IC0gNDk6IGkxSUkxSTExICUgTzBPbzBvTzBvIC4gb09PTzAwbyArIG8wTzAgLyBpMUkKICBpZiBJSUlpaTFJSTFJSSA6CiAgIGZvciBpaW9Pb29PT09vT28gaW4gSUlJaWkxSUkxSUkgOgogICAgTzBvT09vT29vb29PID0gcmUgLiBjb21waWxlICggJzxhIGNsYXNzPSJ0aXRsZSBtYXktYmxhbmsuKz9yZWw9Ii4rPz4oLis/KTwnICkgLiBmaW5kYWxsICggaWlvT29vT09Pb09vIC4gY29udGVudCApIFsgMCBdCiAgICB1cmwgPSByZSAuIGNvbXBpbGUgKCAnaHJlZj0iKFteIl0rKScgKSAuIGZpbmRhbGwgKCBpaW9Pb29PT09vT28gLiBjb250ZW50ICkKICAgIHVybCA9IFsgT08wT29PMG8wMCBmb3IgT08wT29PMG8wMCBpbiB1cmwgaWYgKCAnY29tbWVudHMnIGluIE9PME9vTzBvMDAgKSBhbmQgKCAncmVkZGl0JyBpbiBPTzBPb08wbzAwICkgXQogICAgdHJ5IDogb29vT28wT09Pb28wID0gcmUgLiBjb21waWxlICggJzxkaXYgY2xhc3M9InNjb3JlIHVudm90ZWQiIHRpdGxlPSIuKz8iPihbMC05XSspPC9kaXY+JyApIC4gZmluZGFsbCAoIGlpb09vb09PT29PbyAuIGNvbnRlbnQgKSBbIDAgXQogICAgZXhjZXB0IDogb29vT28wT09Pb28wID0gJzAnCiAgICB0cnkgOiBPT29PID0gcmUgLiBjb21waWxlICggJ2RhdGEtZXZlbnQtYWN0aW9uPSJjb21tZW50cyIuKz8+KFswLTldKylcc2NvbW1lbnRzPFwvYT4nICkgLiBmaW5kYWxsICggaWlvT29vT09Pb09vIC4gY29udGVudCApIFsgMCBdCiAgICBleGNlcHQgOiBPT29PID0gJzAnCiAgICBpZiA4OSAtIDg5OiBvMG8wT09PMG8wICsgb28wT28wME9vMCAqIE9PMG9vMG9PTyAqIEkxaWlpCiAgICBpZiAnY29tbWVudHMnIGluIHVybCBbIDAgXSA6CiAgICAgdXJsID0gdXJsIFsgMCBdCiAgICAgaWYgbm90ICdyZWRkaXQuY29tJyBpbiB1cmwgOiB1cmwgPSAnaHR0cHM6Ly93d3cucmVkZGl0LmNvbScgKyB1cmwKICAgICBPTzBPb29vMG9PTzBPIC4gYXBwZW5kICggTzBvT09vT29vb29PIC4gZW5jb2RlICggJ3V0Zi04JyApICkKICAgICBvMDBPMCAuIGFwcGVuZCAoIHVybCAuIGVuY29kZSAoICd1dGYtOCcgKSApCiAgICAgb09PME8wME9vME8wbyAuIGFwcGVuZCAoIG9vb09vME9PT29vMCAuIGVuY29kZSAoICd1dGYtOCcgKSApCiAgICAgaWkxIC4gYXBwZW5kICggT09vTyAuIGVuY29kZSAoICd1dGYtOCcgKSApCiAgICAgSTFpSUlpaUlJaTFpID0gbGlzdCAoIHppcCAoIG9PTzBPMDBPbzBPMG8gLCBPTzBPb29vMG9PTzBPICwgbzAwTzAgLCBpaTEgKSApCiAgICAgaWYgMzcgLSAzNzogaTFpSWlpMUlpMUlJIC0gTzBPbzBvTzBvIC0gbzBvME9PTzBvMAogICAgIGlmIDc3IC0gNzc6IG8wICogSUkxaUkKICAgZm9yIG9vb09vME9PT29vMCAsIE8wb09Pb09vb29vTyAsIHVybCAsIE9Pb08gaW4gSTFpSUlpaUlJaTFpIDoKICAgIE8wb09Pb09vb29vTyA9IE8wb09Pb09vb29vTyAuIHJlcGxhY2UgKCAnJmFtcDsnICwgJyYnICkKICAgIE9vMG8wMDAwbzBvMCAoICdbQ09MT1J3aGl0ZV1bQl0nICsgb29vT28wT09Pb28wICsgJ1svQl1bL0NPTE9SXSAtIFtDT0xPUiB3aGl0ZV0nICsgTzBvT09vT29vb29PICsgJ1svQ09MT1JdIC0gJyArIE9Pb08gKyAnIENvbW1lbnRzJyAsIHVybCAsIDMxOSAsIEkxSWlpSSAsIE8wMG9vb29vMDAgKQogIGVsc2UgOiBpaUkxSWlJICggJ05vIFN1YiBSZWRkaXRzIEZvdW5kJyAsICd1cmwnICwgOTk5ICwgSTFJaWlJICwgSUkxICkKICBpZiA5OCAtIDk4OiBpMUkgJSBJMWlpaSAqIGkxaUlpaTFJaTFJSQogZWxzZSA6CiAgaWYgNTEgLSA1MTogSUkxaUkgLiBvT09PMDBvIC8gbzBPMCArIG8wbzBPT08wbzAKICBJMTFpSTFpMUkxMUkxMSA9IFsgJ2FjZXN0cmVhbScgLCAnaHJlZicgXQogIG8wMDBPME8gPSBbICdhZHMnIF0KICBJMWkxaTFpaWkgPSAxCiAgaWYgMTYgLSAxNjogSTFpaWkgKyBJMUkxaSAqIE8wT28wb08wbyAlIG9vT29vME8gLiBpMUkKICBJSUlpaTFJSTFJSSA9IGRvbV9wYXJzZXIgLiBwYXJzZV9kb20gKCBJSUlpaTFJSTFJSSAsICdkaXYnICwgeyAnY2xhc3MnIDogcmUgLiBjb21waWxlICggJ21kJyApIH0gKQogIE9vME9PID0gcmUgLiBjb21waWxlICggJyhbMC05YS16XSspJyApIC4gZmluZGFsbCAoIHN0ciAoIElJSWlpMUlJMUlJICkgKQogIE8wT29vT28wbyA9IFsgaWlvT29vT09Pb09vIGZvciBpaW9Pb29PT09vT28gaW4gT28wT08gaWYgbGVuICggaWlvT29vT09Pb09vICkgPT0gNDAgXQogIE9PME9vTzBvMDAgPSBbIGlpb09vb09PT29PbyBbIDEgXSBmb3IgaWlvT29vT09Pb09vIGluIElJSWlpMUlJMUlJIFsgMSA6IF0gaWYgKCAnPHA+JyBpbiBpaW9Pb29PT09vT28gWyAxIF0gKSBhbmQgYW55ICggZiBmb3IgZiBpbiBJMTFpSTFpMUkxMUkxMSBpZiBmIGluIGlpb09vb09PT29PbyBbIDEgXSApIGFuZCBub3QgYW55ICggZiBmb3IgZiBpbiBvMDAwTzBPIGlmIGYgaW4gaWlvT29vT09Pb09vIFsgMSBdICkgXQogIElJSWlpMUlJMUlJID0gcmUgLiBmaW5kYWxsICggJ2FjZXN0cmVhbTpcL1wvKFswLTkgYS16XSspW1xzfDxdJyAsIHN0ciAoIE9PME9vTzBvMDAgKSApICsgcmUgLiBmaW5kYWxsICggJzxhIGhyZWY9XCJodHRwKC4rPylcIicgLCBzdHIgKCBPTzBPb08wbzAwICkgKQogIE9PT09vID0gWyBdCiAgT09PT28gLiBleHRlbmQgKCBPME9vb09vMG8gKQogIE9PT09vIC4gZXh0ZW5kICggSUlJaWkxSUkxSUkgKQogIGlmIDI5IC0gMjk6IGkxSSAlIGkxSQogIE9vME8wID0gWyBdCiAgaWYgODIgLSA4MjogaTFJSTFJMTEgJSBPTzBvbzBvT08gLyBvbzBPbzAwT28wICsgb09PTzAwbyAvIG8wbzBPT08wbzAgLyBvT09Pb28wTzBPb08KICBpZiBPT09PbyA6CiAgIG9PbzBPT29PMCA9IFsgXQogICBPTzBPb29vMG9PTzBPID0gWyBdCiAgIG8wME8wID0gWyBdCiAgIGZvciBpaW9Pb29PT09vT28gaW4gT09PT28gOgogICAgaWYgbm90IGlpb09vb09PT29PbyAuIGVuZHN3aXRoICggKCAnLmpwZycgLCAnLmpwZWcnICwgJy5wbmcnICwgJy5naWYnICkgKSA6CiAgICAgaWlvT29vT09Pb09vID0gaWlvT29vT09Pb09vIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgICAgaWYgJzovLycgaW4gaWlvT29vT09Pb09vIDogaWlvT29vT09Pb09vID0gJ2h0dHAnICsgaWlvT29vT09Pb09vCiAgICAgaWYgbm90ICdyZWRkaXQnIGluIGlpb09vb09PT29PbyA6CiAgICAgIGlmIG5vdCAnaHR0cCcgaW4gaWlvT29vT09Pb09vIDoKICAgICAgIGlmIG9zIC4gcGF0aCAuIGV4aXN0cyAoIG9vbzBPTyApIDoKICAgICAgICBvb29PT09PTyA9ICdbQ09MT1J3aGl0ZV1bQl1MaW5rICcgKyBzdHIgKCBJMWkxaTFpaWkgKSArICdbL0JdWy9DT0xPUl0gLSBBY2VzdHJlYW06ICcgKyBpaW9Pb29PT09vT28KICAgICAgICBPTzBPb29vMG9PTzBPIC4gYXBwZW5kICggb29vT09PT08gKQogICAgICAgIGlmIG5vdCBpaW9Pb29PT09vT28gaW4gbzAwTzAgOiBvMDBPMCAuIGFwcGVuZCAoICdhY2VzdHJlYW06Ly8nICsgaWlvT29vT09Pb09vICkKICAgICAgICBvT28wT09vTzAgLiBhcHBlbmQgKCAnMCcgKQogICAgICAgIE9vME8wID0gbGlzdCAoIHppcCAoIG9PbzBPT29PMCAsIE9PME9vb28wb09PME8gLCBvMDBPMCApICkKICAgICAgICBJMWkxaTFpaWkgKz0gMQogICAgICBlbHNlIDoKICAgICAgIG9vb09PT09PID0gJ1tDT0xPUndoaXRlXVtCXUxpbmsgJyArIHN0ciAoIEkxaTFpMWlpaSApICsgJ1svQl1bL0NPTE9SXSAtICcgKyBpaW9Pb29PT09vT28KICAgICAgIE9PME9vb28wb09PME8gLiBhcHBlbmQgKCBvb29PT09PTyApCiAgICAgICBpZiBub3QgaWlvT29vT09Pb09vIGluIG8wME8wIDogbzAwTzAgLiBhcHBlbmQgKCBpaW9Pb29PT09vT28gKQogICAgICAgb09vME9Pb08wIC4gYXBwZW5kICggJzEnICkKICAgICAgIE9vME8wID0gbGlzdCAoIHppcCAoIG9PbzBPT29PMCAsIE9PME9vb28wb09PME8gLCBvMDBPMCApICkKICAgICAgIEkxaTFpMWlpaSArPSAxCiAgIGlmIEkxaTFpMWlpaSA9PSAxIDogaWlJMUlpSSAoICdObyBMaW5rcyBGb3VuZCcgLCAndXJsJyAsIDk5OSAsIEkxSWlpSSAsIElJMSApCiAgZWxzZSA6IGlpSTFJaUkgKCAnTm8gTGlua3MgRm91bmQnICwgJ3VybCcgLCA5OTkgLCBJMUlpaUkgLCBJSTEgKQogIGlmIDExIC0gMTE6IElJSUkgLiBvbzBPbzAwT28wICogSTFJMWkgKiBpMWlJaWkxSWkxSUkgKyBvbzBPMG9PT08wMG9PCiAgaWYgT28wTzAgOgogICBJaUlJMTExaTFpMTEgPSAwCiAgIGkxMTFpSWkxaTFJSTEgPSAwCiAgIG9vb08gPSBzb3J0ZWQgKCBPbzBPMCAsIGtleSA9IGxhbWJkYSBpMUkxaTExMUlpIDogaW50ICggaTFJMWkxMTFJaSBbIDAgXSApICkKICAgZm9yIG9vbyAsIG9vb09PT09PICwgdXJsIGluIG9vb08gOgogICAgaWYgb29vID09ICcwJyA6CiAgICAgaWYgSWlJSTExMWkxaTExID09IDAgOgogICAgICBpaUkxSWlJICggJ1tDT0xPUiB3aGl0ZV1bQl18IEFjZXN0cmVhbSBMaW5rcyB8IFtJXU1vc3QgUmVjZW50IEF0IEJvdHRvbVsvSV0gfFsvQl1bL0NPTE9SXScgLCAndXJsJyAsIDk5OSAsIEkxSWlpSSAsIElJMSApCiAgICAgIElpSUkxMTFpMWkxMSA9IDEKICAgICBpaUkxSWlJICggb29vT09PT08gLiBlbmNvZGUgKCAndXRmLTgnICkgLCB1cmwgLCAzMTggLCBJMUlpaUkgLCBJSTEgKQogICAgZWxzZSA6CiAgICAgaWYgaTExMWlJaTFpMUlJMSA9PSAwIDoKICAgICAgaWYgMjcgLSAyNzogb28wTzBvT09PMDBvTyAlIGkxSQogICAgICBpaUkxSWlJICggJ1tDT0xPUiB3aGl0ZV1bQl18IFdlYiBMaW5rcyB8IFtJXU1vc3QgUmVjZW50IEF0IEJvdHRvbVsvSV0gfFsvQl1bL0NPTE9SXScgLCAndXJsJyAsIDk5OSAsIEkxSWlpSSAsIElJMSApCiAgICAgIGlmIDczIC0gNzM6IG8wCiAgICAgIGkxMTFpSWkxaTFJSTEgPSAxCiAgICAgaWlJMUlpSSAoIG9vb09PT09PIC4gZW5jb2RlICggJ3V0Zi04JyApICwgdXJsICwgMzE4ICwgSTFJaWlJICwgSUkxICkKICAgICBpZiA3MCAtIDcwOiBJSTFpSQpkZWYgaTExaWkxaUkgKCBuYW1lICwgdXJsICkgOgogaWYgMjIgLSAyMjogaTFpSWlpMUlpMUlJCiB0cnkgOgogIG5hbWUgPSBuYW1lIC4gcmVwbGFjZSAoICdbQ09MT1J3aGl0ZV0nICwgJycgKSAuIHJlcGxhY2UgKCAnWy9DT0xPUl0nICwgJycgKQogIE9PT09vID0gb3BlbiAoIElpSSApIC4gcmVhZCAoICkKICBvbzBPMG9PID0gT09PT28gLiByZXBsYWNlICggJzxpdGVtPlxuPG5hbWU+JyArIHN0ciAoIG5hbWUgKSArICc8L25hbWU+XG48dXJsPicgKyBzdHIgKCB1cmwgKSArICc8L3VybD5cbjwvaXRlbT4nICwgJycgKQogIG8wT09PTzAwTzBPbyA9IG9wZW4gKCBJaUkgLCBtb2RlID0gJ3cnICkKICBvME9PT08wME8wT28gLiB3cml0ZSAoIHN0ciAoIG9vME8wb08gKSApCiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5SZWZyZXNoIiApCiBleGNlcHQgOgogIG9vMDAgLiBvayAoIE8wTzBPTzBPME8wICwgJ1RoZXJlIHdhcyBhbiBlcnJvciByZW1vdmluZyB0aGUgZW50cnkgZnJvbSB0aGUgbGlzdC4nICkKICBxdWl0ICggKQogIGlmIDc1IC0gNzU6IG8wbzBPT08wbzAgKyBvMG8wT09PMG8wICsgb29Pb28wTyAtIG9vT29vME8KZGVmIE9PICggKSA6CiBpZiA3MSAtIDcxOiBJSUlJCiBJSUlpaTFJSTFJSSA9IG9vMG8wTzAwICggJ2h0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy82dzBUUEZCeCcgKQogSUlJaWkxSUkxSUkgPSByZSAuIGNvbXBpbGUgKCAnPGxpbms+KC4rPyk8L2xpbms+JyApIC4gZmluZGFsbCAoIElJSWlpMUlJMUlJICkKIGlmIDcgLSA3OiBJSUlJIC0gaTFJIC4gSUkxaUkgLSBvb09vbzBPCiBJMTFpSTFpMUkxMUkxMSA9IFsgJ2FjZXN0cmVhbScgLCAnaHJlZicgXQogbzAwME8wTyA9IFsgJ2FkcycgXQogSTFpMWkxaWlpID0gMQogZm9yIE9PME9vTzBvMDAgaW4gSUlJaWkxSUkxSUkgOgogIElJSWlpMUlJMUlJID0gb28wbzBPMDAgKCBPTzBPb08wbzAwICkKICBJMTFpSTFpMUkxMUkxMSA9IFsgJ2FjZXN0cmVhbScgLCAnaHJlZicgXQogIG8wMDBPME8gPSBbICdhZHMnIF0KICBJMWkxaTFpaWkgPSAxCiAgaWYgNTkgLSA1OTogbzBvME9PTzBvMAogIElJSWlpMUlJMUlJID0gZG9tX3BhcnNlciAuIHBhcnNlX2RvbSAoIElJSWlpMUlJMUlJICwgJ2RpdicgLCB7ICdjbGFzcycgOiByZSAuIGNvbXBpbGUgKCAnbWQnICkgfSApCiAgT28wT08gPSByZSAuIGNvbXBpbGUgKCAnKFswLTlhLXpdKyknICkgLiBmaW5kYWxsICggc3RyICggSUlJaWkxSUkxSUkgKSApCiAgTzBPb29PbzBvID0gWyBpaW9Pb29PT09vT28gZm9yIGlpb09vb09PT29PbyBpbiBPbzBPTyBpZiBsZW4gKCBpaW9Pb29PT09vT28gKSA9PSA0MCBdCiAgT08wT29PMG8wMCA9IFsgaWlvT29vT09Pb09vIFsgMSBdIGZvciBpaW9Pb29PT09vT28gaW4gSUlJaWkxSUkxSUkgWyAxIDogXSBpZiAoICc8cD4nIGluIGlpb09vb09PT29PbyBbIDEgXSApIGFuZCBhbnkgKCBmIGZvciBmIGluIEkxMWlJMWkxSTExSTExIGlmIGYgaW4gaWlvT29vT09Pb09vIFsgMSBdICkgYW5kIG5vdCBhbnkgKCBmIGZvciBmIGluIG8wMDBPME8gaWYgZiBpbiBpaW9Pb29PT09vT28gWyAxIF0gKSBdCiAgSUlJaWkxSUkxSUkgPSByZSAuIGZpbmRhbGwgKCAnYWNlc3RyZWFtOlwvXC8oWzAtOSBhLXpdKylbXHN8PF0nICwgc3RyICggT08wT29PMG8wMCApICkgKyByZSAuIGZpbmRhbGwgKCAnPGEgaHJlZj1cImh0dHAoLis/KVwiJyAsIHN0ciAoIE9PME9vTzBvMDAgKSApCiAgT09PT28gPSBbIF0KICBPT09PbyAuIGV4dGVuZCAoIE8wT29vT28wbyApCiAgT09PT28gLiBleHRlbmQgKCBJSUlpaTFJSTFJSSApCiAgaWYgODEgLSA4MTogb09PTzAwbyAtIG9PT08wMG8gLiBJaWlJMTFJaWlpaQogIE9vME8wID0gWyBdCiAgaWYgNzMgLSA3MzogT08wb28wb09PICUgaTExaUlpaUlpaSAtIGkxSQogIGlmIE9PT09vIDoKICAgb09vME9Pb08wID0gWyBdCiAgIE9PME9vb28wb09PME8gPSBbIF0KICAgbzAwTzAgPSBbIF0KICAgZm9yIGlpb09vb09PT29PbyBpbiBPT09PbyA6CiAgICBpZiBub3QgaWlvT29vT09Pb09vIC4gZW5kc3dpdGggKCAoICcuanBnJyAsICcuanBlZycgLCAnLnBuZycgLCAnLmdpZicgKSApIDoKICAgICBpaW9Pb29PT09vT28gPSBpaW9Pb29PT09vT28gLiBlbmNvZGUgKCAndXRmLTgnICkKICAgICBpZiAnOi8vJyBpbiBpaW9Pb29PT09vT28gOiBpaW9Pb29PT09vT28gPSAnaHR0cCcgKyBpaW9Pb29PT09vT28KICAgICBpZiBub3QgJ3JlZGRpdCcgaW4gaWlvT29vT09Pb09vIDoKICAgICAgaWYgbm90ICdodHRwJyBpbiBpaW9Pb29PT09vT28gOgogICAgICAgaWYgb3MgLiBwYXRoIC4gZXhpc3RzICggb29vME9PICkgOgogICAgICAgIG9vb09PT09PID0gJ1tDT0xPUndoaXRlXVtCXUxpbmsgJyArIHN0ciAoIEkxaTFpMWlpaSApICsgJ1svQl1bL0NPTE9SXSAtIEFjZXN0cmVhbTogJyArIGlpb09vb09PT29PbwogICAgICAgIE9PME9vb28wb09PME8gLiBhcHBlbmQgKCBvb29PT09PTyApCiAgICAgICAgbzAwTzAgLiBhcHBlbmQgKCAnYWNlc3RyZWFtOi8vJyArIGlpb09vb09PT29PbyApCiAgICAgICAgb09vME9Pb08wIC4gYXBwZW5kICggJzAnICkKICAgICAgICBPbzBPMCA9IGxpc3QgKCB6aXAgKCBvT28wT09vTzAgLCBPTzBPb29vMG9PTzBPICwgbzAwTzAgKSApCiAgICAgICAgSTFpMWkxaWlpICs9IDEKICAgICAgZWxzZSA6CiAgICAgICBvb29PT09PTyA9ICdbQ09MT1J3aGl0ZV1bQl1MaW5rICcgKyBzdHIgKCBJMWkxaTFpaWkgKSArICdbL0JdWy9DT0xPUl0gLSAnICsgaWlvT29vT09Pb09vCiAgICAgICBPTzBPb29vMG9PTzBPIC4gYXBwZW5kICggb29vT09PT08gKQogICAgICAgbzAwTzAgLiBhcHBlbmQgKCBpaW9Pb29PT09vT28gKQogICAgICAgb09vME9Pb08wIC4gYXBwZW5kICggJzEnICkKICAgICAgIE9vME8wID0gbGlzdCAoIHppcCAoIG9PbzBPT29PMCAsIE9PME9vb28wb09PME8gLCBvMDBPMCApICkKICAgICAgIEkxaTFpMWlpaSArPSAxCiAgIGlmIEkxaTFpMWlpaSA9PSAxIDogaWlJMUlpSSAoICdObyBMaW5rcyBGb3VuZCcgLCAndXJsJyAsIDk5OSAsIEkxSWlpSSAsIElJMSApCiAgZWxzZSA6IGlpSTFJaUkgKCAnTm8gTGlua3MgRm91bmQnICwgJ3VybCcgLCA5OTkgLCBJMUlpaUkgLCBJSTEgKQogIGlmIDcgLSA3OiBPME9vMG9PMG8gKiBpMTFpSWlpSWlpICogSTFpaWkgKyBvbzBPMG9PT08wMG9PICUgb28wT28wME9vMCAtIG9vME8wb09PTzAwb08KICBpZiBPbzBPMCA6CiAgIElpSUkxMTFpMWkxMSA9IDAKICAgaTExMWlJaTFpMUlJMSA9IDAKICAgb29vTyA9IHNvcnRlZCAoIE9vME8wICwga2V5ID0gbGFtYmRhIGkxSTFpMTExSWkgOiBpbnQgKCBpMUkxaTExMUlpIFsgMCBdICkgLCByZXZlcnNlID0gRmFsc2UgKQogICBmb3Igb29vICwgb29vT09PT08gLCBJMTEgaW4gb29vTyA6CiAgICBpZiBvb28gPT0gJzAnIDoKICAgICBpZiBJaUlJMTExaTFpMTEgPT0gMCA6CiAgICAgIGlmIDM5IC0gMzk6IE9PMG9Pb28gKiBvMCAlIG8wIC0gaTFpSWlpMUlpMUlJICsgbzBvME9PTzBvMCAtIE9PMG9vMG9PTwogICAgICBpaUkxSWlJICggJ1tDT0xPUndoaXRlXVtCXXwgQWNlc3RyZWFtIExpbmtzIHwgW0ldTW9zdCBSZWNlbnQgQXQgQm90dG9tWy9JXSB8Wy9CXVsvQ09MT1JdJyAsICd1cmwnICwgOTk5ICwgSTFJaWlJICwgSUkxICkKICAgICAgaWYgMjMgLSAyMzogaTExaUlpaUlpaQogICAgICBJaUlJMTExaTFpMTEgPSAxCiAgICAgaWlJMUlpSSAoIG9vb09PT09PIC4gZW5jb2RlICggJ3V0Zi04JyApICwgSTExICwgMzE4ICwgSTFJaWlJICwgSUkxICkKICAgIGVsc2UgOgogICAgIGlmIGkxMTFpSWkxaTFJSTEgPT0gMCA6CiAgICAgIGlmIDMwIC0gMzA6IG8wbzBPT08wbzAgLSBvb09vbzBPICUgaTFJSTFJMTEgKyBPTzBvbzBvT08gKiBJSTFpSQogICAgICBpaUkxSWlJICggJ1tDT0xPUndoaXRlXVtCXXwgV2ViIExpbmtzIHwgW0ldTW9zdCBSZWNlbnQgQXQgQm90dG9tWy9JXSB8Wy9CXVsvQ09MT1JdJyAsICd1cmwnICwgOTk5ICwgSTFJaWlJICwgSUkxICkKICAgICAgaWYgODEgLSA4MTogSTFJMWkgJSBvb09vbzBPIC4gSUkxaUkKICAgICAgaTExMWlJaTFpMUlJMSA9IDEKICAgICBpaUkxSWlJICggb29vT09PT08gLiBlbmNvZGUgKCAndXRmLTgnICkgLCBJMTEgLCAzMTggLCBJMUlpaUkgLCBJSTEgKQogICAgIGlmIDQgLSA0OiBpMTFpSWlpSWlpICUgb28wT28wME9vMCAlIG9vT29vME8gLyBJMUkxaQpkZWYgSTExaUkgKCBuYW1lICwgdXJsICwgaWNvbmltYWdlICkgOgogaWYgNjggLSA2ODogSUkxaUkgLyBvMAogT28wTyAuIGNyZWF0ZSAoIE8wTzBPTzBPME8wICwgIltDT0xPUnJlZF1PcGVuaW5nIGxpbmsuLi5bL0NPTE9SXSIgLCAnW0NPTE9SIHdoaXRlXVBsZWFzZSB3YWl0Li4uWy9DT0xPUl0nICwgJycgKQogT28wTyAuIHVwZGF0ZSAoIDAgKQogaW1wb3J0IHJlc29sdmV1cmwKIGltcG9ydCBsaXZlcmVzb2x2ZXIKIGlmICdhY2VzdHJlYW0nIGluIHVybCA6IHVybCA9ICJwbHVnaW46Ly9wcm9ncmFtLnBsZXh1cy8/dXJsPSIgKyB1cmwgKyAiJm1vZGU9MSZuYW1lPWFjZXN0cmVhbSsiICsgbmFtZQogZWxpZiAnLm0zdTgnIGluIHVybCA6CiAgdXJsID0gJ3BsdWdpbjovL3BsdWdpbi52aWRlby5mNG1UZXN0ZXIvP3N0cmVhbXR5cGU9SExTUkVUUlkmYW1wO25hbWU9JyArIG5hbWUgKyAnJmFtcDt1cmw9JyArIHVybCArICcmYW1wO2ljb25JbWFnZT0nICsgaWNvbmltYWdlCiBlbGlmICcudHMnIGluIHVybCA6CiAgdXJsID0gJ3BsdWdpbjovL3BsdWdpbi52aWRlby5mNG1UZXN0ZXIvP3N0cmVhbXR5cGU9VFNET1dOTE9BREVSJmFtcDtuYW1lPScgKyBuYW1lICsgJyZhbXA7dXJsPScgKyB1cmwgKyAnJmFtcDtpY29uSW1hZ2U9JyArIGljb25pbWFnZQogZWxpZiByZXNvbHZldXJsIC4gSG9zdGVkTWVkaWFGaWxlICggdXJsICkgLiB2YWxpZF91cmwgKCApIDoKICB1cmwgPSByZXNvbHZldXJsIC4gSG9zdGVkTWVkaWFGaWxlICggdXJsICkgLiByZXNvbHZlICggKQogIGkxID0geGJtY2d1aSAuIExpc3RJdGVtICggbmFtZSAsIGljb25JbWFnZSA9IGljb25pbWFnZSAsIHRodW1ibmFpbEltYWdlID0gaWNvbmltYWdlICkKICBpMSAuIHNldFBhdGggKCB1cmwgKQogIE9vME8gLiBjbG9zZSAoICkKICB4Ym1jIC4gUGxheWVyICggKSAuIHBsYXkgKCB1cmwgLCBpMSAsIEZhbHNlICkKIGVsaWYgbGl2ZXJlc29sdmVyIC4gaXNWYWxpZCAoIHVybCApID09IFRydWUgOgogIHVybCA9IGxpdmVyZXNvbHZlciAuIHJlc29sdmUgKCB1cmwgKQogIGkxID0geGJtY2d1aSAuIExpc3RJdGVtICggbmFtZSAsIGljb25JbWFnZSA9IGljb25pbWFnZSAsIHRodW1ibmFpbEltYWdlID0gaWNvbmltYWdlICkKICBpMSAuIHNldFBhdGggKCB1cmwgKQogIE9vME8gLiBjbG9zZSAoICkKICB4Ym1jIC4gUGxheWVyICggKSAuIHBsYXkgKCB1cmwgLCBpMSAsIEZhbHNlICkKIGVsc2UgOgogIHVybCA9ICdwbHVnaW46Ly9wbHVnaW4udmlkZW8uU3BvcnRzRGV2aWwvP21vZGU9MSZhbXA7aXRlbT1jYXRjaGVyJTNkc3RyZWFtcyUyNnRpdGxlPScgKyBzdHIgKCBuYW1lICkgKyAnJTI2dXJsPScgKyB1cmwgKyAnJTI2cmVmZXJlcj1ub25lJwogaTEgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBuYW1lICwgaWNvbkltYWdlID0gaWNvbmltYWdlICwgdGh1bWJuYWlsSW1hZ2UgPSBpY29uaW1hZ2UgKQogaTEgLiBzZXRQYXRoICggdXJsICkKIE9vME8gLiBjbG9zZSAoICkKIHhibWMgLiBQbGF5ZXIgKCApIC4gcGxheSAoIHVybCAsIGkxICwgRmFsc2UgKQogaWYgODggLSA4ODogb28wT28wME9vMCAtIG9vME8wb09PTzAwb08gKyBvMCAqIGkxSSAlIElJMWlJICsgT08wb09vbwpkZWYgSTFJMTFpICggdXJsICkgOgogaWYgNzYgLSA3NjogaTFJICogSWlpSTExSWlpaWkgJSBvT09Pb28wTzBPb08KIHRyeSA6CiAgT29vb08wMG8gPSB1cmxsaWIyIC4gUmVxdWVzdCAoIHVybCApCiAgT29vb08wMG8gLiBhZGRfaGVhZGVyICggJ1VzZXItQWdlbnQnICwgJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQxLjAuMjIyOC4wIFNhZmFyaS81MzcuMzYnICkKICBvME8wbyA9IHVybGxpYjIgLiB1cmxvcGVuICggT29vb08wMG8gLCB0aW1lb3V0ID0gMTAgKQogIG9PMG8wbzBvb08wb08gPSBvME8wbyAuIHJlYWQgKCApCiAgbzBPMG8gLiBjbG9zZSAoICkKICByZXR1cm4gb08wbzBvMG9vTzBvTwogZXhjZXB0IEV4Y2VwdGlvbiBhcyBPME9vb09vMG8gOgogIGlmICggJ3RscycgaW4gc3RyICggTzBPb29PbzBvICkgLiBsb3dlciAoICkgKSBvciAoICdzc2wnIGluIHN0ciAoIE8wT29vT28wbyApIC4gbG93ZXIgKCApICkgOgogICBrb2RpIC4gbm90aWZ5ICggbXNnID0gJ0Vycm9yIGNvbm5lY3RpbmcgdG8gdGhlIFVSTCBkdWUgdG8gYSBUTFMvU1NMIGlzc3VlLicgLCBkdXJhdGlvbiA9IDUwMDAgLCBzb3VuZCA9IFRydWUgKQogICBxdWl0ICggKQogIGVsc2UgOgogICBrb2RpIC4gbm90aWZ5ICggbXNnID0gJ1VSTCBFcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4nICwgZHVyYXRpb24gPSA1MDAwICwgc291bmQgPSBUcnVlICkKICAgcXVpdCAoICkKICAgaWYgNzcgLSA3Nzogb09PTzAwbyAtIGkxSSAqIGkxMWlJaWlJaWkgKiBvbzBPMG9PT08wMG9PICogSUkxaUkKZGVmIG9PbzAgKCApIDoKIE9PT29PTyA9IHhibWMgLiBLZXlib2FyZCAoICcnICwgJ1tCXVtDT0xPUiB3aGl0ZV1TZWFyY2hbL0NPTE9SXSBbQ09MT1IgcmVkXVBsYW5ldFsvQ09MT1JdIFtDT0xPUiB3aGl0ZV1NTUFbL0NPTE9SXVsvQl0nICkKIE9PT29PTyAuIGRvTW9kYWwgKCApCiBpZiAoIE9PT29PTyAuIGlzQ29uZmlybWVkICggKSApIDoKICBJMTFJSUlpID0gT09Pb09PIC4gZ2V0VGV4dCAoICkKICBJMTFJSUlpID0gSTExSUlJaSAuIHVwcGVyICggKQogZWxzZSA6IHF1aXQgKCApCiBvTzBvMG8wb29PMG9PID0gb28wbzBPMDAgKCBvMG9PMCApCiBpSUlpaUkxSUkxaTExID0gcmUgLiBjb21waWxlICggJzxsaW5rPiguKz8pPC9saW5rPicgKSAuIGZpbmRhbGwgKCBvTzBvMG8wb29PMG9PICkKIGZvciBJMTEgaW4gaUlJaWlJMUlJMWkxMSA6CiAgT09PTzBPT29PME8wID0gSTExCiAgb08wbzBvMG9vTzBvTyA9IG9vMG8wTzAwICggSTExICkKICBvMG8wID0gcmUgLiBjb21waWxlICggJzxpdGVtPiguKz8pPC9pdGVtPicgKSAuIGZpbmRhbGwgKCBvTzBvMG8wb29PMG9PICkKICBmb3IgaTFpaUlJaWlJMTExIGluIG8wbzAgOgogICBvTyA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+KC4rPyk8L3RpdGxlPicgKSAuIGZpbmRhbGwgKCBpMWlpSUlpaUkxMTEgKQogICBmb3IgTzBvT09vT29vb29PIGluIG9PIDoKICAgIE8wb09Pb09vb29vTyA9IE8wb09Pb09vb29vTyAuIHVwcGVyICggKQogICAgaWYgSTExSUlJaSBpbiBPMG9PT29Pb29vb08gOgogICAgIHRyeSA6CiAgICAgIGlmICc8c3BvcnRzZGV2aWw+JyBpbiBpMWlpSUlpaUkxMTEgOgogICAgICAgb29vT09PT08gPSByZSAuIGNvbXBpbGUgKCAnPHRpdGxlPiguKz8pPC90aXRsZT4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgICAgIGkxaWlJSUkxMTFpaSA9IHJlIC4gY29tcGlsZSAoICc8dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICAgICBJMTEgPSByZSAuIGNvbXBpbGUgKCAnPHNwb3J0c2RldmlsPiguKz8pPC9zcG9ydHNkZXZpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgICAgIGlpMTFpSWkxSSA9IHJlIC4gY29tcGlsZSAoICc8cmVmZXJlcj4oLis/KTwvcmVmZXJlcj4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgICAgIG9PMG8wbzBvb08wb08gPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLlNwb3J0c0RldmlsLz9tb2RlPTEmYW1wO2l0ZW09Y2F0Y2hlciUzZHN0cmVhbXMlMjZ1cmw9JyArIEkxMQogICAgICAgSTExID0gb08wbzBvMG9vTzBvTyArICclMjZyZWZlcmVyPScgKyBpaTExaUlpMUkKICAgICAgIGlmICd0cCcgaW4gSTExIDoKICAgICAgICBpaUkxSWlJICggb29vT09PT08gLCBJMTEgLCA0ICwgaTFpaUlJSTExMWlpICwgTzAwb29vb28wMCApCiAgICAgIGVsaWYgJzxmb2xkZXI+JyBpbiBpMWlpSUlpaUkxMTEgOgogICAgICAgb09Pb08wID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+Lis/Zm9sZGVyPiguKz8pPC9mb2xkZXI+Lis/dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+Lis/ZmFuYXJ0PiguKz8pPC9mYW5hcnQ+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApCiAgICAgICBmb3Igb29vT09PT08gLCBJMTEgLCBpMWlpSUlJMTExaWkgLCBJSTEgaW4gb09Pb08wIDoKICAgICAgICBpZiAndHAnIGluIEkxMSA6CiAgICAgICAgIE9vMG8wMDAwbzBvMCAoIG9vb09PT09PICwgSTExICwgMSAsIGkxaWlJSUkxMTFpaSAsIE8wMG9vb29vMDAgKQogICAgICBlbHNlIDoKICAgICAgIGkxaUlJaTEgPSByZSAuIGNvbXBpbGUgKCAnPGxpbms+KC4rPyk8L2xpbms+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApCiAgICAgICBpZiBsZW4gKCBpMWlJSWkxICkgPT0gMSA6CiAgICAgICAgb09Pb08wID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+Lis/bGluaz4oLis/KTwvbGluaz4uKz90aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4uKz9mYW5hcnQ+KC4rPyk8L2ZhbmFydD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkKICAgICAgICBPME9vTzAwME8wT08gPSBsZW4gKCBvTyApCiAgICAgICAgZm9yIG9vb09PT09PICwgSTExICwgaTFpaUlJSTExMWlpICwgSUkxIGluIG9PT29PMCA6CiAgICAgICAgIGlmICd5b3V0dWJlLmNvbS9wbGF5bGlzdCcgaW4gSTExIDoKICAgICAgICAgIE9vMG8wMDAwbzBvMCAoIG9vb09PT09PICwgSTExICwgMiAsIGkxaWlJSUkxMTFpaSAsIE8wMG9vb29vMDAgKQogICAgICAgICBlbHNlIDoKICAgICAgICAgIGlmICd0cCcgaW4gSTExIDoKICAgICAgICAgICBpaUkxSWlJICggb29vT09PT08gLCBJMTEgLCAyICwgaTFpaUlJSTExMWlpICwgTzAwb29vb28wMCApCiAgICAgICBlbGlmIGxlbiAoIGkxaUlJaTEgKSA+IDEgOgogICAgICAgIG9vb09PT09PID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4oLis/KTwvdGl0bGU+JyApIC4gZmluZGFsbCAoIGkxaWlJSWlpSTExMSApIFsgMCBdCiAgICAgICAgaTFpaUlJSTExMWlpID0gcmUgLiBjb21waWxlICggJzx0aHVtYm5haWw+KC4rPyk8L3RodW1ibmFpbD4nICkgLiBmaW5kYWxsICggaTFpaUlJaWlJMTExICkgWyAwIF0KICAgICAgICBpaUkxSWlJICggb29vT09PT08gLCBPT09PME9Pb08wTzAgLCAzICwgaTFpaUlJSTExMWlpICwgTzAwb29vb28wMCApCiAgICAgZXhjZXB0IDogcGFzcwogICAgIGlmIDQ5IC0gNDk6IG8wTzAgLSBpMTFpSWlpSWlpIC4gb09PT29vME8wT29PICogSTFpaWkgJSBJaWlJMTFJaWlpaSArIG9vT29vME8KICAgICBpZiA3MSAtIDcxOiBvMG8wT09PMG8wCmRlZiBJSUlJaUlpSWkxICggbmFtZSAsIHVybCAsIGljb25pbWFnZSApIDoKIGlmIDIgLSAyOiBJaWlJMTFJaWlpaSAlIElJMWlJICogSUkxaUkgLiBvMG8wT09PMG8wIC8gSWlpSTExSWlpaWkKIE9vME8gLiBjcmVhdGUgKCBPME8wT08wTzBPMCAsICJbQ09MT1JyZWRdT3BlbmluZyBMaW5rLi4uWy9DT0xPUl0iICwgJ1tDT0xPUndoaXRlXVsvQ09MT1JdJyAsICcnICkKIE9vME8gLiB1cGRhdGUgKCAwICkKIGlmIDI3IC0gMjc6IG9vME9vMDBPbzAgKyBvbzBPMG9PT08wMG9PIC0gb29Pb28wTwogaUlJaUlpMWlJSUkxID0gWyBdCiBPb28gPSBbIF0KIE8wMG9PT29vbyA9IFsgXQogb08wbzBvMG9vTzBvTyA9IG9vMG8wTzAwICggdXJsICkKIGlJMWlJaWkxMUlpID0gcmUgLiBjb21waWxlICggJzx0aXRsZT4nICsgcmUgLiBlc2NhcGUgKCBuYW1lICkgKyAnPC90aXRsZT4oLis/KTwvaXRlbT4nICwgcmUgLiBET1RBTEwgKSAuIGZpbmRhbGwgKCBvTzBvMG8wb29PMG9PICkgWyAwIF0KIGljb25pbWFnZSA9IHJlIC4gY29tcGlsZSAoICc8dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+JyApIC4gZmluZGFsbCAoIGlJMWlJaWkxMUlpICkgWyAwIF0KIGkxaUlJaTEgPSByZSAuIGNvbXBpbGUgKCAnPGxpbms+KC4rPyk8L2xpbms+JyApIC4gZmluZGFsbCAoIGlJMWlJaWkxMUlpICkKIGlpb09vb09PT29PbyA9IDEKIGZvciBJSWkxaTFJMTFJaWkgaW4gaTFpSUlpMSA6CiAgSTFpMWkxID0gSUlpMWkxSTExSWlpCiAgaWYgJygnIGluIElJaTFpMUkxMUlpaSA6CiAgIElJaTFpMUkxMUlpaSA9IElJaTFpMUkxMUlpaSAuIHNwbGl0ICggJygnICkgWyAwIF0KICAgT29PME8wME8wb28wTyA9IHN0ciAoIEkxaTFpMSAuIHNwbGl0ICggJygnICkgWyAxIF0gLiByZXBsYWNlICggJyknICwgJycgKSApCiAgIGlJSWlJaTFpSUlJMSAuIGFwcGVuZCAoIElJaTFpMUkxMUlpaSApCiAgIE9vbyAuIGFwcGVuZCAoIE9vTzBPMDBPMG9vME8gKQogIGVsc2UgOgogICBpSUlpSWkxaUlJSTEgLiBhcHBlbmQgKCBJSWkxaTFJMTFJaWkgKQogICBPb28gLiBhcHBlbmQgKCAnTGluayAnICsgc3RyICggaWlvT29vT09Pb09vICkgKQogIGlpb09vb09PT29PbyA9IGlpb09vb09PT29PbyArIDEKIG5hbWUgPSAnW0NPTE9SIHJlZF0nICsgbmFtZSArICdbL0NPTE9SXScKIG9vMDAgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogSUkxSSA9IG9vMDAgLiBzZWxlY3QgKCBuYW1lICwgT29vICkKIGlmIElJMUkgPCAwIDoKICBxdWl0ICggKQogZWxzZSA6CiAgdXJsID0gaUlJaUlpMWlJSUkxIFsgSUkxSSBdCiAgcHJpbnQgdXJsCiAgaWYgcmVzb2x2ZXVybCAuIEhvc3RlZE1lZGlhRmlsZSAoIHVybCApIC4gdmFsaWRfdXJsICggKSA6IEkxSWlJMTEgPSByZXNvbHZldXJsIC4gSG9zdGVkTWVkaWFGaWxlICggdXJsICkgLiByZXNvbHZlICggKQogIGVsaWYgbGl2ZXJlc29sdmVyIC4gaXNWYWxpZCAoIHVybCApID09IFRydWUgOiBJMUlpSTExID0gbGl2ZXJlc29sdmVyIC4gcmVzb2x2ZSAoIHVybCApCiAgZWxzZSA6IEkxSWlJMTEgPSB1cmwKICBpMSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIG5hbWUgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgLCB0aHVtYm5haWxJbWFnZSA9IGljb25pbWFnZSApCiAgaTEgLiBzZXRQYXRoICggSTFJaUkxMSApCiAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgVHJ1ZSAsIGkxICkKICBpZiA5IC0gOTogT08wb28wb09PCmRlZiBPb29vTyAoIG5hbWUgLCB1cmwgLCBpY29uaW1hZ2UgKSA6CiBpZiAyNyAtIDI3OiBpMWlJaWkxSWkxSUkKIElpSWlJaSA9ICdwbHVnaW46Ly9wbHVnaW4udmlkZW8uU3BvcnRzRGV2aWwvP21vZGU9MSZhbXA7aXRlbT1jYXRjaGVyJTNkc3RyZWFtcyUyNnVybD0nCiBpSUlpSWkxaUlJSTEgPSBbIF0KIE9vbyA9IFsgXQogTzAwb09Pb29vID0gWyBdCiBpaTExMUkgPSBbIF0KIG9PMG8wbzBvb08wb08gPSBvbzBvME8wMCAoIHVybCApCiBpSTFpSWlpMTFJaSA9IHJlIC4gY29tcGlsZSAoICc8dGl0bGU+JyArIHJlIC4gZXNjYXBlICggbmFtZSApICsgJzwvdGl0bGU+KC4rPyk8L2l0ZW0+JyAsIHJlIC4gRE9UQUxMICkgLiBmaW5kYWxsICggb08wbzBvMG9vTzBvTyApIFsgMCBdCiBpMWlJSWkxID0gcmUgLiBjb21waWxlICggJzxzcG9ydHNkZXZpbD4oLis/KTwvc3BvcnRzZGV2aWw+JyApIC4gZmluZGFsbCAoIGlJMWlJaWkxMUlpICkKIGljb25pbWFnZSA9IHJlIC4gY29tcGlsZSAoICc8dGh1bWJuYWlsPiguKz8pPC90aHVtYm5haWw+JyApIC4gZmluZGFsbCAoIGlJMWlJaWkxMUlpICkgWyAwIF0KIGlpb09vb09PT29PbyA9IDEKIGlmIDE3IC0gMTc6IGkxSSAuIE8wT28wb08wbyArIG9vME9vMDBPbzAKIGZvciBJSWkxaTFJMTFJaWkgaW4gaTFpSUlpMSA6CiAgSTFpMWkxID0gSUlpMWkxSTExSWlpCiAgaWYgJygnIGluIElJaTFpMUkxMUlpaSA6CiAgIElJaTFpMUkxMUlpaSA9IElJaTFpMUkxMUlpaSAuIHNwbGl0ICggJygnICkgWyAwIF0KICAgT29PME8wME8wb28wTyA9IHN0ciAoIEkxaTFpMSAuIHNwbGl0ICggJygnICkgWyAxIF0gLiByZXBsYWNlICggJyknICwgJycgKSApCiAgIGlJSWlJaTFpSUlJMSAuIGFwcGVuZCAoIElJaTFpMUkxMUlpaSApCiAgIE9vbyAuIGFwcGVuZCAoIE9vTzBPMDBPMG9vME8gKQogICBpaTExMUkgLiBhcHBlbmQgKCAnU3RyZWFtICcgKyBzdHIgKCBpaW9Pb29PT09vT28gKSApCiAgZWxzZSA6CiAgIGlJSWlJaTFpSUlJMSAuIGFwcGVuZCAoIElJaTFpMUkxMUlpaSApCiAgIE9vbyAuIGFwcGVuZCAoICdMaW5rICcgKyBzdHIgKCBpaW9Pb29PT09vT28gKSApCiAgIGlmIDQzIC0gNDM6IGkxSUkxSTExIC4gbzBPMCAvIElJSUkKICBpaW9Pb29PT09vT28gPSBpaW9Pb29PT09vT28gKyAxCiBuYW1lID0gJ1tDT0xPUiByZWRdJyArIG5hbWUgKyAnWy9DT0xPUl0nCiBvbzAwID0geGJtY2d1aSAuIERpYWxvZyAoICkKIElJMUkgPSBvbzAwIC4gc2VsZWN0ICggbmFtZSAsIE9vbyApCiBpZiBJSTFJIDwgMCA6CiAgcXVpdCAoICkKIGVsc2UgOgogIGlJMTExSTExSTFJMSA9IE9vbyBbIElJMUkgXQogIE9Pb29PME9Pb28gPSAiLyIKICBpZiBub3QgaUkxMTFJMTFJMUkxIC4gZW5kc3dpdGggKCBPT29vTzBPT29vICkgOgogICBpSWlpMSA9IGlJMTExSTExSTFJMSArICIvIgogIGVsc2UgOgogICBpSWlpMSA9IGlJMTExSTExSTFJMQogIHVybCA9IElpSWlJaSArIGlJSWlJaTFpSUlJMSBbIElJMUkgXSArICIlMjZyZWZlcmVyPSIgKyBpSWlpMQogIHByaW50IHVybAogIGlmIDIwIC0gMjA6IGkxSQogIHhibWMgLiBQbGF5ZXIgKCApIC4gcGxheSAoIHVybCApCiAgaWYgOTUgLSA5NTogSWlpSTExSWlpaWkgLSBpMUkKZGVmIEkxaWkxaWkxMWkxSSAoIG5hbWUgLCB1cmwgLCBpY29uaW1hZ2UgKSA6CiBpZiA1OCAtIDU4OiBJaWlJMTFJaWlpaSArIE9PMG9Pb28KIElJMUkxSTFJaSA9IFRydWUKIGkxID0geGJtY2d1aSAuIExpc3RJdGVtICggbmFtZSAsIGljb25JbWFnZSA9ICJEZWZhdWx0Rm9sZGVyLnBuZyIgLCB0aHVtYm5haWxJbWFnZSA9IGljb25pbWFnZSApIDsgaTEgLiBzZXRJbmZvICggdHlwZSA9ICJWaWRlbyIgLCBpbmZvTGFiZWxzID0geyAiVGl0bGUiIDogbmFtZSB9ICkKIElJMUkxSTFJaSA9IHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtICggaGFuZGxlID0gaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgdXJsID0gdXJsICwgbGlzdGl0ZW0gPSBpMSApCiB4Ym1jIC4gUGxheWVyICggKSAuIHBsYXkgKCB1cmwgLCBpMSAsIEZhbHNlICkKIGlmIDcwIC0gNzA6IG9vME9vMDBPbzAgJSBvME8wICsgbzAgLyBJMWlpaSAlIE8wT28wb08wbwpkZWYgb29vb28gKCBuYW1lICwgdXJsICwgaWNvbmltYWdlICkgOgogaWYgMTAwIC0gMTAwOiBvMG8wT09PMG8wICsgbzAgKiBvMG8wT09PMG8wCiBPbzBPIC4gY3JlYXRlICggTzBPME9PME8wTzAgLCAiW0NPTE9ScmVkXU9wZW5pbmcgTGluay4uLlsvQ09MT1JdIiAsICdbQ09MT1J3aGl0ZV1bL0NPTE9SXScgLCAnJyApCiBPbzBPIC4gdXBkYXRlICggMCApCiBpZiA4MCAtIDgwOiBvMG8wT09PMG8wICogTzBPbzBvTzBvIC0gSTFpaWkKIGlmICd5b3V0dWJlLmNvbS9wbGF5bGlzdCcgaW4gdXJsIDoKICBJMTFJSUlpID0gdXJsIC4gc3BsaXQgKCAnbGlzdD0nICkgWyAxIF0KICBvbzAwTzAwT28gPSBPbyArIEkxMUlJSWkgKyBvME8KICBPb29vTzAwbyA9IHVybGxpYjIgLiBSZXF1ZXN0ICggb28wME8wME9vICkKICBPb29vTzAwbyAuIGFkZF9oZWFkZXIgKCAnVXNlci1BZ2VudCcgLCAnTW96aWxsYS81LjAgKFdpbmRvd3M7IFU7IFdpbmRvd3MgTlQgNS4xOyBlbi1HQjsgcnY6MS45LjAuMykgR2Vja28vMjAwODA5MjQxNyBGaXJlZm94LzMuMC4zJyApCiAgbzBPMG8gPSB1cmxsaWIyIC4gdXJsb3BlbiAoIE9vb29PMDBvICkKICBvTzBvMG8wb29PMG9PID0gbzBPMG8gLiByZWFkICggKQogIG8wTzBvIC4gY2xvc2UgKCApCiAgb08wbzBvMG9vTzBvTyA9IG9PMG8wbzBvb08wb08gLiByZXBsYWNlICggJ1xyJyAsICcnICkgLiByZXBsYWNlICggJ1xuJyAsICcnICkgLiByZXBsYWNlICggJyAgJyAsICcnICkKICBvTyA9IHJlIC4gY29tcGlsZSAoICcidGl0bGUiOiAiKC4rPykiLis/InZpZGVvSWQiOiAiKC4rPykiJyAsIHJlIC4gRE9UQUxMICkgLiBmaW5kYWxsICggb08wbzBvMG9vTzBvTyApCiAgdHJ5IDoKICAgb09PT28wME8wMG9PbyA9IHJlIC4gY29tcGlsZSAoICcibmV4dFBhZ2VUb2tlbiI6ICIoLis/KSInICkgLiBmaW5kYWxsICggb08wbzBvMG9vTzBvTyApIFsgMCBdCiAgIG9vMDBPMDBPbyA9IElpaUlJSTExMWlJICsgb09PT28wME8wMG9PbyArIElpSUkgKyBJMTFJSUlpICsgaUkxSWkxMTExMWlJaQogICBPbzBvMDAwMG8wbzAgKCAnTmV4dCBQYWdlID4+JyAsIG9vMDBPMDBPbyAsIDIgLCBPT09vMCAsIElJMSApCiAgZXhjZXB0IDogcGFzcwogIGZvciBuYW1lICwgSUlJSUkxSUkgaW4gb08gOgogICB1cmwgPSAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0nICsgSUlJSUkxSUkKICAgaWNvbmltYWdlID0gJ2h0dHBzOi8vaS55dGltZy5jb20vdmkvJyArIElJSUlJMUlJICsgJy9ocWRlZmF1bHQuanBnJwogICBpZiBub3QgJ1ByaXZhdGUgdmlkZW8nIGluIG5hbWUgOgogICAgaWYgbm90ICdEZWxldGVkIHZpZGVvJyBpbiBuYW1lIDoKICAgICBpaUkxSWlJICggbmFtZSAsIHVybCAsIDIgLCBpY29uaW1hZ2UgLCBJSTEgKQogICAgIGlmIDM1IC0gMzU6IElJMWlJCiBpZiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20veW91dHViZS92MycgaW4gdXJsIDoKICBJMTFJSUlpID0gcmUgLiBjb21waWxlICggJ3BsYXlsaXN0SWQ9KC4rPykmbWF4UmVzdWx0cycgKSAuIGZpbmRhbGwgKCB1cmwgKSBbIDAgXQogIE9vb29PMDBvID0gdXJsbGliMiAuIFJlcXVlc3QgKCB1cmwgKQogIE9vb29PMDBvIC4gYWRkX2hlYWRlciAoICdVc2VyLUFnZW50JyAsICdNb3ppbGxhLzUuMCAoV2luZG93czsgVTsgV2luZG93cyBOVCA1LjE7IGVuLUdCOyBydjoxLjkuMC4zKSBHZWNrby8yMDA4MDkyNDE3IEZpcmVmb3gvMy4wLjMnICkKICBvME8wbyA9IHVybGxpYjIgLiB1cmxvcGVuICggT29vb08wMG8gKQogIG9PMG8wbzBvb08wb08gPSBvME8wbyAuIHJlYWQgKCApCiAgbzBPMG8gLiBjbG9zZSAoICkKICBvTzBvMG8wb29PMG9PID0gb08wbzBvMG9vTzBvTyAuIHJlcGxhY2UgKCAnXHInICwgJycgKSAuIHJlcGxhY2UgKCAnXG4nICwgJycgKSAuIHJlcGxhY2UgKCAnICAnICwgJycgKQogIG9PID0gcmUgLiBjb21waWxlICggJyJ0aXRsZSI6ICIoLis/KSIuKz8idmlkZW9JZCI6ICIoLis/KSInICwgcmUgLiBET1RBTEwgKSAuIGZpbmRhbGwgKCBvTzBvMG8wb29PMG9PICkKICB0cnkgOgogICBvT09PbzAwTzAwb09vID0gcmUgLiBjb21waWxlICggJyJuZXh0UGFnZVRva2VuIjogIiguKz8pIicgKSAuIGZpbmRhbGwgKCBvTzBvMG8wb29PMG9PICkgWyAwIF0KICAgb28wME8wME9vID0gSWlpSUlJMTExaUkgKyBvT09PbzAwTzAwb09vICsgSWlJSSArIEkxMUlJSWkgKyBpSTFJaTExMTExaUlpCiAgIE9vMG8wMDAwbzBvMCAoICdOZXh0IFBhZ2UgPj4nICwgb28wME8wME9vICwgMiAsIE9PT28wICwgSUkxICkKICBleGNlcHQgOiBwYXNzCiAgaWYgNDIgLSA0Mjogb09PT29vME8wT29PIC4gaTFJIC4gb29Pb28wTyArIG9PT08wMG8gKyBvMCArIGkxSQogIGlmIDMxIC0gMzE6IElpaUkxMUlpaWlpIC4gbzAgLSBvbzBPMG9PT08wMG9PIC4gaTFpSWlpMUlpMUlJIC8gaTFpSWlpMUlpMUlJCiAgaWYgNTYgLSA1Njogb28wT28wME9vMCAvIG8wTzAgLyBpMTFpSWlpSWlpICsgaTFpSWlpMUlpMUlJIC0gT08wb09vbyAtIE9PMG9vMG9PTwogIGZvciBuYW1lICwgSUlJSUkxSUkgaW4gb08gOgogICB1cmwgPSAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0nICsgSUlJSUkxSUkKICAgaWNvbmltYWdlID0gJ2h0dHBzOi8vaS55dGltZy5jb20vdmkvJyArIElJSUlJMUlJICsgJy9ocWRlZmF1bHQuanBnJwogICBpZiBub3QgJ1ByaXZhdGUgdmlkZW8nIGluIG5hbWUgOgogICAgaWYgbm90ICdEZWxldGVkIHZpZGVvJyBpbiBuYW1lIDoKICAgICBpaUkxSWlJICggbmFtZSAsIHVybCAsIDIgLCBpY29uaW1hZ2UgLCBJSTEgKQogICAgIGlmIDIxIC0gMjE6IE8wT28wb08wbyAlIEkxSTFpIC4gaTFJIC8gaTFJSTFJMTEgKyBJMUkxaQogICAgIGlmIDUzIC0gNTM6IG8wTzAgLSBpMUkgLSBvME8wICogSWlpSTExSWlpaWkKIGlmIHJlc29sdmV1cmwgLiBIb3N0ZWRNZWRpYUZpbGUgKCB1cmwgKSAuIHZhbGlkX3VybCAoICkgOiBJMUlpSTExID0gcmVzb2x2ZXVybCAuIEhvc3RlZE1lZGlhRmlsZSAoIHVybCApIC4gcmVzb2x2ZSAoICkKIGVsaWYgbGl2ZXJlc29sdmVyIC4gaXNWYWxpZCAoIHVybCApID09IFRydWUgOiBJMUlpSTExID0gbGl2ZXJlc29sdmVyIC4gcmVzb2x2ZSAoIHVybCApCiBlbHNlIDogSTFJaUkxMSA9IHVybAogaTEgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBuYW1lICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICwgdGh1bWJuYWlsSW1hZ2UgPSBpY29uaW1hZ2UgKQogaTEgLiBzZXRQYXRoICggSTFJaUkxMSApCiB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCBUcnVlICwgaTEgKQogaWYgNzEgLSA3MTogTzBPbzBvTzBvIC0gSUkxaUkKIGlmICdodHRwJyBub3QgaW4gdXJsIDoKICBpZiAnLnRzJyBpbiB1cmwgOgogICB1cmwgPSAncGx1Z2luOi8vcGx1Z2luLnZpZGVvLmY0bVRlc3Rlci8/c3RyZWFtdHlwZT1UU0RPV05MT0FERVImYW1wO25hbWU9JyArIG5hbWUgKyAnJmFtcDt1cmw9JyArIHVybAogIGVsaWYgJ2FjZXN0cmVhbScgaW4gdXJsIDoKICAgdXJsID0gInBsdWdpbjovL3Byb2dyYW0ucGxleHVzLz91cmw9IiArIHVybCArICImbW9kZT0xJm5hbWU9YWNlc3RyZWFtKyIKICAgeGJtYyAuIFBsYXllciAoICkgLiBwbGF5ICggdXJsICkKICBlbGlmIHJlc29sdmV1cmwgLiBIb3N0ZWRNZWRpYUZpbGUgKCB1cmwgKSAuIHZhbGlkX3VybCAoICkgOgogICB1cmwgPSByZXNvbHZldXJsIC4gSG9zdGVkTWVkaWFGaWxlICggdXJsICkgLiByZXNvbHZlICggKQogIGVsaWYgbGl2ZXJlc29sdmVyIC4gaXNWYWxpZCAoIHVybCApID09IFRydWUgOgogICB1cmwgPSBsaXZlcmVzb2x2ZXIgLiByZXNvbHZlICggdXJsICkKICBpMSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIG5hbWUgLCBpY29uSW1hZ2UgPSBJMUlpaUkgLCB0aHVtYm5haWxJbWFnZSA9IEkxSWlpSSApCiAgeGJtYyAuIFBsYXllciAoICkgLiBwbGF5ICggdXJsICwgaTEgLCBGYWxzZSApCiAgcXVpdCAoICkKICBpZiAxMiAtIDEyOiBvMCAvIG8wbzBPT08wbzAKZGVmIGlpSTFJMSAoIHVybCApIDoKIGlmIDU2IC0gNTY6IGkxSSAuIE8wT28wb08wbyArIE9PMG9Pb28KIHhibWMgLiBQbGF5ZXIgKCApIC4gcGxheSAoIHVybCApCiBpZiAxIC0gMTogSWlpSTExSWlpaWkKZGVmIG9vMG8wTzAwICggdXJsICkgOgogdHJ5IDoKICBPb29vTzAwbyA9IHVybGxpYjIgLiBSZXF1ZXN0ICggdXJsICkKICBPb29vTzAwbyAuIGFkZF9oZWFkZXIgKCAnVXNlci1BZ2VudCcgLCAna2xvcHAnICkKICBvME8wbyA9IHVybGxpYjIgLiB1cmxvcGVuICggT29vb08wMG8gKQogIG9PMG8wbzBvb08wb08gPSBvME8wbyAuIHJlYWQgKCApCiAgbzBPMG8gLiBjbG9zZSAoICkKICBvTzBvMG8wb29PMG9PID0gb08wbzBvMG9vTzBvTyAuIHJlcGxhY2UgKCAnXG4nICwgJycgKSAuIHJlcGxhY2UgKCAnXHInICwgJycgKSAuIHJlcGxhY2UgKCAnPGZhbmFydD48L2ZhbmFydD4nICwgJzxmYW5hcnQ+eDwvZmFuYXJ0PicgKSAuIHJlcGxhY2UgKCAnPHRodW1ibmFpbD48L3RodW1ibmFpbD4nICwgJzx0aHVtYm5haWw+eDwvdGh1bWJuYWlsPicgKSAuIHJlcGxhY2UgKCAnPHV0dWJlPicgLCAnPGxpbms+aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0nICkgLiByZXBsYWNlICggJzwvdXR1YmU+JyAsICc8L2xpbms+JyApCiAgcHJpbnQgb08wbzBvMG9vTzBvTwogIHJldHVybiBvTzBvMG8wb29PMG9PCiBleGNlcHQgOiBxdWl0ICggKQogaWYgOTcgLSA5NzogbzAgKyBJaWlJMTFJaWlpaSArIE8wT28wb08wbyArIGkxMWlJaWlJaWkKZGVmIE8wMDBvbzBPICggdXJsICkgOgogT29vb08wMG8gPSB1cmxsaWIyIC4gUmVxdWVzdCAoIHVybCApCiBPb29vTzAwbyAuIGFkZF9oZWFkZXIgKCAnVXNlci1BZ2VudCcgLCAna2xvcHAnICkKIG8wTzBvID0gdXJsbGliMiAuIHVybG9wZW4gKCBPb29vTzAwbyApCiBvTzBvMG8wb29PMG9PID0gbzBPMG8gLiByZWFkICggKQogbzBPMG8gLiBjbG9zZSAoICkKIHByaW50IG9PMG8wbzBvb08wb08KIHJldHVybiBvTzBvMG8wb29PMG9PCiBpZiA3NyAtIDc3OiBvMG8wT09PMG8wIC8gaTFpSWlpMUlpMUlJCmRlZiBJSWlpMTFJMWkxSSAoICkgOgogbzBvME9PME8wMG8gPSBbIF0KIE8wT29vbyA9IHN5cyAuIGFyZ3YgWyAyIF0KIGlmIGxlbiAoIE8wT29vbyApID49IDIgOgogIGlpSWkxaSA9IHN5cyAuIGFyZ3YgWyAyIF0KICBJMWkxMTExMWkxaTExID0gaWlJaTFpIC4gcmVwbGFjZSAoICc/JyAsICcnICkKICBpZiAoIGlpSWkxaSBbIGxlbiAoIGlpSWkxaSApIC0gMSBdID09ICcvJyApIDoKICAgaWlJaTFpID0gaWlJaTFpIFsgMCA6IGxlbiAoIGlpSWkxaSApIC0gMiBdCiAgT09vT09PMCA9IEkxaTExMTExaTFpMTEgLiBzcGxpdCAoICcmJyApCiAgbzBvME9PME8wMG8gPSB7IH0KICBmb3IgaWlvT29vT09Pb09vIGluIHJhbmdlICggbGVuICggT09vT09PMCApICkgOgogICBJMUkxaUkxSUlJaUlpSWkgPSB7IH0KICAgSTFJMWlJMUlJSWlJaUlpID0gT09vT09PMCBbIGlpb09vb09PT29PbyBdIC4gc3BsaXQgKCAnPScgKQogICBpZiAoIGxlbiAoIEkxSTFpSTFJSUlpSWlJaSApICkgPT0gMiA6CiAgICBvMG8wT08wTzAwbyBbIEkxSTFpSTFJSUlpSWlJaSBbIDAgXSBdID0gSTFJMWlJMUlJSWlJaUlpIFsgMSBdCiByZXR1cm4gbzBvME9PME8wMG8KIGlmIDI3IC0gMjc6IElJSUkgKyBvT09PMDBvIC0gbzAgKyBPME9vMG9PMG8gLiBJMWlpaQogaWYgNDYgLSA0NjogSTFJMWkKZGVmIGlpMWlJaTFpSWlJMWkgKCBuYW1lICwgdXJsICwgbW9kZSAsIGljb25pbWFnZSAsIGl0ZW1jb3VudCAsIGlzRm9sZGVyID0gRmFsc2UgKSA6CiBpaUkxaUlpaTFpID0gbmFtZSAuIHBhcnRpdGlvbiAoICcoJyApCiBPT29vTzBvbzBvMDBvID0gIiIKIG9vT08wT29PID0gIiIKIGlmIGxlbiAoIGlpSTFpSWlpMWkgKSA+IDAgOgogIE9Pb29PMG9vMG8wMG8gPSBpaUkxaUlpaTFpIFsgMCBdCiAgb29PTzBPb08gPSBpaUkxaUlpaTFpIFsgMiBdIC4gcGFydGl0aW9uICggJyknICkKIGlmIGxlbiAoIG9vT08wT29PICkgPiAwIDoKICBvb09PME9vTyA9IG9vT08wT29PIFsgMCBdCiBPbzAgPSBtZXRhaGFuZGxlcnMgLiBNZXRhRGF0YSAoICkKIG9vb29vT09PMDAwT28gPSBPbzAgLiBnZXRfbWV0YSAoICdtb3ZpZScgLCBuYW1lID0gT09vb08wb28wbzAwbyAsIHllYXIgPSBvb09PME9vTyApCiBPTzBPb08wbzAwID0gc3lzIC4gYXJndiBbIDAgXSArICI/dXJsPSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggdXJsICkgKyAiJm1vZGU9IiArIHN0ciAoIG1vZGUgKSArICImbmFtZT0iICsgdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSArICImaWNvbmltYWdlPSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggaWNvbmltYWdlICkKIElJMUkxSTFJaSA9IFRydWUKIGkxID0geGJtY2d1aSAuIExpc3RJdGVtICggbmFtZSAsIGljb25JbWFnZSA9IG9vb29vT09PMDAwT28gWyAnY292ZXJfdXJsJyBdICwgdGh1bWJuYWlsSW1hZ2UgPSBvb29vb09PTzAwME9vIFsgJ2NvdmVyX3VybCcgXSApCiBpMSAuIHNldEluZm8gKCB0eXBlID0gIlZpZGVvIiAsIGluZm9MYWJlbHMgPSBvb29vb09PTzAwME9vICkKIE9vbzAwT29PT08gPSBbIF0KIE9vbzAwT29PT08gLiBhcHBlbmQgKCAoICdNb3ZpZSBJbmZvcm1hdGlvbicgLCAnWEJNQy5BY3Rpb24oSW5mbyknICkgKQogaTEgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggT29vMDBPb09PTyAsIHJlcGxhY2VJdGVtcyA9IEZhbHNlICkKIGlmIG5vdCBvb29vb09PTzAwME9vIFsgJ2JhY2tkcm9wX3VybCcgXSA9PSAnJyA6IGkxIC4gc2V0UHJvcGVydHkgKCAnZmFuYXJ0X2ltYWdlJyAsIG9vb29vT09PMDAwT28gWyAnYmFja2Ryb3BfdXJsJyBdICkKIGVsc2UgOiBpMSAuIHNldFByb3BlcnR5ICggJ2ZhbmFydF9pbWFnZScgLCBJSTEgKQogSUkxSTFJMUlpID0geGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW0gKCBoYW5kbGUgPSBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCB1cmwgPSBPTzBPb08wbzAwICwgbGlzdGl0ZW0gPSBpMSAsIGlzRm9sZGVyID0gaXNGb2xkZXIgLCB0b3RhbEl0ZW1zID0gaXRlbWNvdW50ICkKIHJldHVybiBJSTFJMUkxSWkKIGlmIDk4IC0gOTg6IElJMWlJICogSUlJSSAqIG8wICsgb28wTzBvT09PMDBvTyAlIGkxMWlJaWlJaWkgJSBPME9vMG9PMG8KZGVmIE9vMG8wMDAwbzBvMCAoIG5hbWUgLCB1cmwgLCBtb2RlICwgaWNvbmltYWdlICwgZmFuYXJ0ICwgZGVzY3JpcHRpb24gPSAnJyApIDoKIE9PME9vTzBvMDAgPSBzeXMgLiBhcmd2IFsgMCBdICsgIj91cmw9IiArIHVybGxpYiAuIHF1b3RlX3BsdXMgKCB1cmwgKSArICImbW9kZT0iICsgc3RyICggbW9kZSApICsgIiZuYW1lPSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggbmFtZSApICsgIiZkZXNjcmlwdGlvbj0iICsgc3RyICggZGVzY3JpcHRpb24gKSArICImZmFuYXJ0PSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggZmFuYXJ0ICkKIElJMUkxSTFJaSA9IFRydWUKIGkxID0geGJtY2d1aSAuIExpc3RJdGVtICggbmFtZSAsIGljb25JbWFnZSA9ICJEZWZhdWx0Rm9sZGVyLnBuZyIgLCB0aHVtYm5haWxJbWFnZSA9IGljb25pbWFnZSApCiBpMSAuIHNldEluZm8gKCB0eXBlID0gIlZpZGVvIiAsIGluZm9MYWJlbHMgPSB7ICJUaXRsZSIgOiBuYW1lICwgJ3Bsb3QnIDogZGVzY3JpcHRpb24gfSApCiBpMSAuIHNldFByb3BlcnR5ICggJ2ZhbmFydF9pbWFnZScgLCBmYW5hcnQgKQogaWYgJ3BsdWdpbjovLycgaW4gdXJsIDogT08wT29PMG8wMCA9IHVybAogSUkxSTFJMUlpID0geGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW0gKCBoYW5kbGUgPSBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCB1cmwgPSBPTzBPb08wbzAwICwgbGlzdGl0ZW0gPSBpMSAsIGlzRm9sZGVyID0gVHJ1ZSApCiByZXR1cm4gSUkxSTFJMUlpCiBpZiAyNyAtIDI3OiBPME9vMG9PMG8KZGVmIGlpSTFJaUkgKCBuYW1lICwgdXJsICwgbW9kZSAsIGljb25pbWFnZSAsIGZhbmFydCAsIGRlc2NyaXB0aW9uID0gJycgKSA6CiBPTzBPb08wbzAwID0gc3lzIC4gYXJndiBbIDAgXSArICI/dXJsPSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggdXJsICkgKyAiJm1vZGU9IiArIHN0ciAoIG1vZGUgKSArICImbmFtZT0iICsgdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSArICImZGVzY3JpcHRpb249IiArIHN0ciAoIGRlc2NyaXB0aW9uICkgKyAiJmZhbmFydD0iICsgdXJsbGliIC4gcXVvdGVfcGx1cyAoIGZhbmFydCApCiBJSTFJMUkxSWkgPSBUcnVlCiBpMSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIG5hbWUgLCBpY29uSW1hZ2UgPSAiRGVmYXVsdEZvbGRlci5wbmciICwgdGh1bWJuYWlsSW1hZ2UgPSBpY29uaW1hZ2UgKQogaTEgLiBzZXRQcm9wZXJ0eSAoICdmYW5hcnRfaW1hZ2UnICwgZmFuYXJ0ICkKIGkxIC4gc2V0UHJvcGVydHkgKCAiSXNQbGF5YWJsZSIgLCAidHJ1ZSIgKQogaWYgJ3BsdWdpbjovLycgaW4gdXJsIDogT08wT29PMG8wMCA9IHVybAogSUkxSTFJMUlpID0geGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW0gKCBoYW5kbGUgPSBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgLCB1cmwgPSBPTzBPb08wbzAwICwgbGlzdGl0ZW0gPSBpMSAsIGlzRm9sZGVyID0gRmFsc2UgKQogcmV0dXJuIElJMUkxSTFJaQogaWYgNzkgLSA3OTogbzBvME9PTzBvMCAtIE9PMG9vMG9PTyArIG8wbzBPT08wbzAgLiBvME8wCmRlZiBpaTFJSUkxMSAoIHN0cmluZyApIDoKIEkxaWlJSUlpMTEgPSAoIGMgZm9yIGMgaW4gc3RyaW5nIGlmIDAgPCBvcmQgKCBjICkgPCAxMjcgKQogaWYgMTIgLSAxMjogaTFpSWlpMUlpMUlJICUgbzBvME9PTzBvMCAqIE9PMG9vMG9PTyAlIElJMWlJIC8gSTFpaWkKIHJldHVybiAnJyAuIGpvaW4gKCBJMWlpSUlJaTExICkKIGlmIDI3IC0gMjc6IGkxMWlJaWlJaWkgJSBpMUlJMUkxMSAlIE9PMG9vMG9PTyAuIE8wT28wb08wbyAtIE9PMG9Pb28gKyBvT09PMDBvCmRlZiBvb08wbyAoIHVybCApIDoKIGlmIDUxIC0gNTE6IEkxSTFpCiBvTzBvMG8wb29PMG9PID0gb28wbzBPMDAgKCB1cmwgKQogb08gPSByZSAuIGNvbXBpbGUgKCAneXQtbG9ja3VwLXBsYXlsaXN0IHl0LWxvY2t1cC1ncmlkIiguKz8pPGRpdiBjbGFzcz0ieXQtbG9ja3VwLW1ldGEiPicgKSAuIGZpbmRhbGwgKCBvTzBvMG8wb29PMG9PICkKIGZvciBpMWlJSWkxIGluIG9PIDoKICB1cmwgPSByZSAuIGNvbXBpbGUgKCAnPGEgaHJlZj0iKC4rPykiJyApIC4gZmluZGFsbCAoIGkxaUlJaTEgKSBbIDAgXQogIEkxSWlpSSA9IHJlIC4gY29tcGlsZSAoICdkYXRhLXRodW1iPSIoLis/KSInICkgLiBmaW5kYWxsICggaTFpSUlpMSApIFsgMCBdIC4gcmVwbGFjZSAoICcmYW1wOycgLCAnJicgKQogIE8wb09Pb09vb29vTyA9IHJlIC4gY29tcGlsZSAoICc8ZGl2IGNsYXNzPSJ5dC1sb2NrdXAtY29udGVudCI+Lis/dGl0bGU9IiguKz8pIicgKSAuIGZpbmRhbGwgKCBpMWlJSWkxICkgWyAwIF0KICBPMG9PT29Pb29vb08gPSBPb29Pb29vb09Pb28wICggTzBvT09vT29vb29PICkKICBpZiBub3QgJ2h0dHAnIGluIHVybCA6CiAgIGlpMTFJMSA9ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS8nICsgdXJsCiAgIE9vMG8wMDAwbzBvMCAoICJbQ09MT1Igc2t5Ymx1ZV1bQl0iICsgTzBvT09vT29vb29PICsgIlsvQl1bL0NPTE9SXSIgLCBpaTExSTEgLCA0MyAsIEkxSWlpSSAsIElJMSApCiBTRVRfVklFVyAoICkKIGlmIDc1IC0gNzU6IG9vME9vMDBPbzAgLyBpMUlJMUkxMSAlIE8wT28wb08wbwpkZWYgSWkxMTFpSWkxaUlpICggdXJsICkgOgogaWYgMjEgLSAyMTogbzBPMCAvIElJSUkgKyBJMWlpaSArIGkxaUlpaTFJaTFJSQogb08wbzBvMG9vTzBvTyA9IG9vMG8wTzAwICggdXJsICkKIG9PID0gcmUgLiBjb21waWxlICggJzxsaSBjbGFzcz0ieXQtdWl4LXNjcm9sbGVyLXNjcm9sbC11bml0KC4rPyk8c3BhbiBjbGFzcz0idmVydGljYWwtYWxpZ24iPicgKSAuIGZpbmRhbGwgKCBvTzBvMG8wb29PMG9PICkKIGZvciBpMWlJSWkxIGluIG9PIDoKICBPMG9PT29Pb29vb08gPSByZSAuIGNvbXBpbGUgKCAndmlkZW8tdGl0bGU9IiguKz8pIicgLCByZSAuIERPVEFMTCApIC4gZmluZGFsbCAoIGkxaUlJaTEgKSBbIDAgXQogIE8wb09Pb09vb29vTyA9IE9vb09vb29vT09vbzAgKCBPMG9PT29Pb29vb08gKQogIEkxSWlpSSA9IHJlIC4gY29tcGlsZSAoICd1cmw9IiguKz8pIicgLCByZSAuIERPVEFMTCApIC4gZmluZGFsbCAoIGkxaUlJaTEgKSBbIDAgXSAuIHJlcGxhY2UgKCAnJmFtcDsnICwgJyYnICkKICBJSTEgPSByZSAuIGNvbXBpbGUgKCAndXJsPSIoLis/KSInICwgcmUgLiBET1RBTEwgKSAuIGZpbmRhbGwgKCBpMWlJSWkxICkgWyAwIF0gLiByZXBsYWNlICggJyZhbXA7JyAsICcmJyApCiAgdXJsID0gcmUgLiBjb21waWxlICggJzxhIGhyZWY9IiguKz8pIicgKSAuIGZpbmRhbGwgKCBpMWlJSWkxICkgWyAwIF0KICBpZiBub3QgJ2h0dHAnIGluIHVybCA6CiAgIGlmIG5vdCAnRGVsZXRlZCB2aWRlbycgaW4gTzBvT09vT29vb29PIDoKICAgIGlpMTFJMSA9ICdodHRwczovL3d3dy55b3V0dWJlLmNvbScgKyB1cmwKICAgIGlpSTFJaUkgKCAiW0NPTE9SeWVsbG93XVtCXSIgKyBPMG9PT29Pb29vb08gKyAiWy9CXVsvQ09MT1JdIiAsIGlpMTFJMSAsIDIgLCBJMUlpaUkgLCBJSTEgKQogICAgaWYgOTEgLSA5MTogaTExaUlpaUlpaSAvIG9vT29vME8gKyBJaWlJMTFJaWlpaSArIG9vME8wb09PTzAwb08gKiBpMTFpSWlpSWlpCiAgICBpZiA2NiAtIDY2OiBJSTFpSSAlIG9vT29vME8gLSBPME9vMG9PMG8gKyBPTzBvbzBvT08gKiBvT09Pb28wTzBPb08gLiBJMUkxaQogICAgaWYgNTIgLSA1Mjogb28wTzBvT09PMDBvTyArIE8wT28wb08wbyAuIElpaUkxMUlpaWlpIC4gSUlJSSAuIG9vME9vMDBPbzAKICAgIGlmIDk3IC0gOTc6IGkxSSAvIElpaUkxMUlpaWlpCiAgICBpZiA3MSAtIDcxOiBpMUlJMUkxMSAvIG9vT29vME8gLiBJSUlJICUgaTFpSWlpMUlpMUlJIC4gb09PTzAwbwogICAgaWYgNDEgLSA0MTogb29Pb28wTyAqIGkxSUkxSTExIC8gaTFpSWlpMUlpMUlJIC4gbzAKICAgIGlmIDgzIC0gODM6IElpaUkxMUlpaWlpIC4gTzBPbzBvTzBvIC8gT08wb09vbyAvIG8wIC0gaTFJSTFJMTEKICAgIGlmIDEwMCAtIDEwMDogb28wT28wME9vMAogICAgaWYgNDYgLSA0Njogb09PTzAwbyAvIElJMWlJICUgSWlpSTExSWlpaWkgLiBJSTFpSSAqIElpaUkxMUlpaWlpCiAgICBpZiAzOCAtIDM4OiBJSUlJIC0gSWlpSTExSWlpaWkgLyBPME9vMG9PMG8gLiBvT09Pb28wTzBPb08KICAgIGlmIDQ1IC0gNDU6IG9PT09vbzBPME9vTwogICAgaWYgODMgLSA4Mzogb09PTzAwbyAuIGkxaUlpaTFJaTFJSQogICAgaWYgNTggLSA1ODogaTExaUlpaUlpaSArIGkxaUlpaTFJaTFJSSAlIGkxaUlpaTFJaTFJSSAvIEkxSTFpIC8gaTExaUlpaUlpaQogICAgaWYgNjIgLSA2Mjogb28wT28wME9vMCAvIElJSUkKICAgIGlmIDcgLSA3OiBpMWlJaWkxSWkxSUkgLiBJMUkxaQogICAgaWYgNTMgLSA1MzogSTFpaWkgJSBJMWlpaSAqIG8wbzBPT08wbzAgKyBvT09PMDBvCiAgICBpZiA5MiAtIDkyOiBpMWlJaWkxSWkxSUkgKyBvb09vbzBPIC8gSTFpaWkgKiBPME9vMG9PMG8KICAgIGlmIDEwMCAtIDEwMDogb28wTzBvT09PMDBvTyAlIElJMWlJICogaTFJSTFJMTEgLSBJaWlJMTFJaWlpaQogICAgaWYgOTIgLSA5Mjogb28wTzBvT09PMDBvTwogICAgaWYgMjIgLSAyMjogT08wb09vbyAlIElpaUkxMUlpaWlpICogSUlJSSAvIG8wICUgaTExaUlpaUlpaSAqIE9PMG9vMG9PTwogICAgaWYgOTUgLSA5NTogaTFpSWlpMUlpMUlJIC0gSTFJMWkgKiBpMUkgKyBvT09PMDBvCiAgICBpZiAxMCAtIDEwOiBvMG8wT09PMG8wIC8gaTExaUlpaUlpaQogICAgaWYgOTIgLSA5MjogT08wb28wb09PIC4gb09PT29vME8wT29PCiAgICBpZiA4NSAtIDg1OiBJSUlJIC4gb09PT29vME8wT29PCiAgICBpZiA3OCAtIDc4OiBvbzBPMG9PT08wMG9PICogb09PT29vME8wT29PICsgSUkxaUkgKyBJSTFpSSAvIG9PT09vbzBPME9vTyAuIEkxaWlpCiAgICBpZiA5NyAtIDk3OiBvbzBPMG9PT08wMG9PIC8gb09PT29vME8wT29PICUgb29Pb28wTyAlIElJSUkKICAgIGlmIDE4IC0gMTg6IElJMWlJICUgT08wb28wb09PCmRlZiBPMDBvTzAgKCApIDoKIGlmIDk3IC0gOTc6IG9PT09vbzBPME9vTyAtIElJMWlJCiBJMTEgPSAnaHR0cDovL3d3dy53b3JsZGZvb3RiYWxsLm5ldC90ZWFtcy9saXZlcnBvb2wtZmMvJwogb08wbzBvMG9vTzBvTyA9IG9vMG8wTzAwICggSTExICkgLiByZXBsYWNlICggJ1xuJyAsICcnICkgLiByZXBsYWNlICggJ1xyJyAsICcnICkgLiByZXBsYWNlICggJ1x0JyAsICcnICkKIG9PID0gcmUgLiBjb21waWxlICggJzxkaXYgY2xhc3M9IndmYi1uZXdzLW1lZGl1bSI+KC4rPyk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+JyApIC4gZmluZGFsbCAoIG9PMG8wbzBvb08wb08gKSBbIDAgXQogb28wbzBPME9vb29vbyA9IHJlIC4gY29tcGlsZSAoICc8aW1nIHNyYz0iKC4rPykiLis/PGEgaHJlZj0iKC4rPykiIHRpdGxlPSIoLis/KSInICkgLiBmaW5kYWxsICggb08gKQogZm9yIEkxSWlpSSAsIEkxMSAsIE8wb09Pb09vb29vTyBpbiBvbzBvME8wT29vb29vIDoKICBpZiBub3QgJ2h0dHAnIGluIEkxMSA6CiAgIEkxMSA9ICdodHRwOi8vd3d3LndvcmxkZm9vdGJhbGwubmV0JyArIEkxMQogICBpaUkxSWlJICggIltDT0xPUnllbGxvd11bQl0iICsgTzBvT09vT29vb29PICsgIlsvQl1bL0NPTE9SXSIgLCBJMTEgLCAxOSAsIEkxSWlpSSAsIE8wMG9vb29vMDAgKQogICBpZiAxIC0gMTogb28wTzBvT09PMDBvTyAlIG9PT08wMG8gKiBPTzBvT29vCmRlZiBvME8wb28wICggdXJsICkgOgogaWYgMzAgLSAzMDogTzBPbzBvTzBvICogaTFpSWlpMUlpMUlJCiBvTzBvMG8wb29PMG9PID0gb28wbzBPMDAgKCB1cmwgKQogb08gPSByZSAuIGNvbXBpbGUgKCAnPGRpdiBjbGFzcz0id2ZiLW5ld3MtY29udGVudCI+KC4rPyk8L2Rpdj4nICkgLiBmaW5kYWxsICggb08wbzBvMG9vTzBvTyApIFsgMCBdIC4gcmVwbGFjZSAoICc8cD4nICwgJycgKSAuIHJlcGxhY2UgKCAnPC9wPicgLCAnJyApIC4gcmVwbGFjZSAoICciJyAsICcnICkKIEkxaUlJSWkxID0gTzBPME9PME8wTzAKIG9vME9vb09PbzAgKCBJMWlJSUlpMSAsIG9PICkKIGlmIDE3IC0gMTc6IElJMWlJIC4gaTFpSWlpMUlpMUlJIC8gT08wb28wb09PICUgaTFJSTFJMTEgJSBvb09vbzBPIC8gaTExaUlpaUlpaQpkZWYgb28wT29vT09vMCAoIGhlYWRpbmcgLCB0ZXh0ICkgOgogaWYgNTggLSA1ODogT08wb09vbyAuIGkxSUkxSTExICsgbzBPMCAtIGkxMWlJaWlJaWkgLyBpMUlJMUkxMSAvIE8wT28wb08wbwogaWQgPSAxMDE0NwogeGJtYyAuIGV4ZWN1dGVidWlsdGluICggJ0FjdGl2YXRlV2luZG93KCVkKScgJSBpZCApCiB4Ym1jIC4gc2xlZXAgKCA1MDAgKQogb09Pb09vID0geGJtY2d1aSAuIFdpbmRvdyAoIGlkICkKIG9vT29vbzAgPSA1MAogd2hpbGUgKCBvb09vb28wID4gMCApIDoKICB0cnkgOgogICB4Ym1jIC4gc2xlZXAgKCAxMCApCiAgIG9vT29vbzAgLT0gMQogICBvT09vT28gLiBnZXRDb250cm9sICggMSApIC4gc2V0TGFiZWwgKCBoZWFkaW5nICkKICAgb09Pb09vIC4gZ2V0Q29udHJvbCAoIDUgKSAuIHNldFRleHQgKCB0ZXh0ICkKICAgcXVpdCAoICkKICAgcmV0dXJuCiAgZXhjZXB0IDogcGFzcwogIGlmIDY3IC0gNjc6IGkxSQpkZWYgb09vMG9vb28wMG8gKCBuYW1lICwgdXJsICwgbW9kZSAsIGljb25pbWFnZSAsIGZhbmFydCAsIGRlc2NyaXB0aW9uID0gJycgKSA6CiBPTzBPb08wbzAwID0gc3lzIC4gYXJndiBbIDAgXSArICI/dXJsPSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggdXJsICkgKyAiJm1vZGU9IiArIHN0ciAoIG1vZGUgKSArICImbmFtZT0iICsgdXJsbGliIC4gcXVvdGVfcGx1cyAoIG5hbWUgKSArICImZmFuYXJ0PSIgKyB1cmxsaWIgLiBxdW90ZV9wbHVzICggZmFuYXJ0ICkKIElJMUkxSTFJaSA9IFRydWUKIGkxID0geGJtY2d1aSAuIExpc3RJdGVtICggbmFtZSAsIGljb25JbWFnZSA9ICJEZWZhdWx0Rm9sZGVyLnBuZyIgLCB0aHVtYm5haWxJbWFnZSA9IGljb25pbWFnZSApCiBpMSAuIHNldEluZm8gKCB0eXBlID0gIlZpZGVvIiAsIGluZm9MYWJlbHMgPSB7ICJUaXRsZSIgOiBuYW1lIH0gKQogaTEgLiBzZXRQcm9wZXJ0eSAoICJGYW5hcnRfSW1hZ2UiICwgZmFuYXJ0ICkKIElJMUkxSTFJaSA9IHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtICggaGFuZGxlID0gaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgdXJsID0gT08wT29PMG8wMCAsIGxpc3RpdGVtID0gaTEgLCBpc0ZvbGRlciA9IEZhbHNlICkKIHJldHVybiBJSTFJMUkxSWkKIGlmIDU1IC0gNTU6IElJSUkgLSBJaWlJMTFJaWlpaSAqIG8wbzBPT08wbzAgKyBvT09PMDBvICogb09PTzAwbyAqIE8wT28wb08wbwpkZWYgTzAwME9vMG8gKCB1cmwgKSA6CiBpZiA5OSAtIDk5OiBJSTFpSSAlIG9vME8wb09PTzAwb08gKyBvbzBPMG9PT08wMG9PICsgSWlpSTExSWlpaWkgLSBvT09Pb28wTzBPb08gLyBvT09Pb28wTzBPb08KIGlpaUkxMSA9ICJTaG93UGljdHVyZSgiICsgdXJsICsgJyknCiB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCBpaWlJMTEgKQogc3lzIC4gZXhpdCAoIDEgKQogaWYgNjMgLSA2Mzogb28wT28wME9vMCArIElJSUkgLiBvT09Pb28wTzBPb08gJSBvT09Pb28wTzBPb08KZGVmIEkxaWkxMWlJICggdGV4dCAsIHBhdHRlcm4gKSA6CiBpZiA1NyAtIDU3OiBpMUlJMUkxMQogb09PT29vID0gIiIKIHRyeSA6CiAgSWkxaWkxMTFpMSA9IHJlIC4gZmluZGFsbCAoIHBhdHRlcm4gLCB0ZXh0ICwgZmxhZ3MgPSByZSAuIERPVEFMTCApCiAgb09PT29vID0gSWkxaWkxMTFpMSBbIDAgXQogZXhjZXB0IDoKICBvT09Pb28gPSAiIgogIGlmIDMxIC0gMzE6IG8wICsgTzBPbzBvTzBvCiByZXR1cm4gb09PT29vCiBpZiA4NyAtIDg3OiBvbzBPMG9PT08wMG9PCmRlZiBvbzBPb29PT28wICggaGVhZGluZyAsIHRleHQgKSA6CiBpZCA9IDEwMTQ3CiB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAnQWN0aXZhdGVXaW5kb3coJWQpJyAlIGlkICkKIHhibWMgLiBzbGVlcCAoIDUwMCApCiBvT09vT28gPSB4Ym1jZ3VpIC4gV2luZG93ICggaWQgKQogb29Pb29vMCA9IDUwCiB3aGlsZSAoIG9vT29vbzAgPiAwICkgOgogIHRyeSA6CiAgIHhibWMgLiBzbGVlcCAoIDEwICkKICAgb29Pb29vMCAtPSAxCiAgIG9PT29PbyAuIGdldENvbnRyb2wgKCAxICkgLiBzZXRMYWJlbCAoIGhlYWRpbmcgKQogICBvT09vT28gLiBnZXRDb250cm9sICggNSApIC4gc2V0VGV4dCAoIHRleHQgKQogICByZXR1cm4KICBleGNlcHQgOgogICBwYXNzCiAgIGlmIDQ1IC0gNDU6IG9vME9vMDBPbzAgLyBpMWlJaWkxSWkxSUkgLSBJaWlJMTFJaWlpaSAvIEkxaWlpICUgSTFJMWkKZGVmIElJICggbGluayApIDoKIHRyeSA6CiAgb08gPSByZSAuIGNvbXBpbGUgKCAnPGxheW91dHR5cGU+KC4rPyk8L2xheW91dHR5cGU+JyApIC4gZmluZGFsbCAoIGxpbmsgKSBbIDAgXQogIGlmIGxheW91dCA9PSAndGh1bWJuYWlsJyA6IHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICdDb250YWluZXIuU2V0Vmlld01vZGUoNTAwKScgKQogIGVsc2UgOiB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAnQ29udGFpbmVyLlNldFZpZXdNb2RlKDUwKScgKQogZXhjZXB0IDogcGFzcwogaWYgODMgLSA4MzogaTFJIC4gSUkxaUkgLSBJMUkxaSAqIGkxMWlJaWlJaWkKaWlJaTFpID0gSUlpaTExSTFpMUkgKCApIDsgSTExID0gTm9uZSA7IG9vb09PT09PID0gTm9uZSA7IElpSTExaTFJSWlpSSA9IE5vbmUgOyBvT09vMDAwb09vTzAgPSBOb25lIDsgaTFpaUlJSTExMWlpID0gTm9uZQp0cnkgOiBvT09vMDAwb09vTzAgPSB1cmxsaWIgLiB1bnF1b3RlX3BsdXMgKCBpaUlpMWkgWyAic2l0ZSIgXSApCmV4Y2VwdCA6IHBhc3MKdHJ5IDogSTExID0gdXJsbGliIC4gdW5xdW90ZV9wbHVzICggaWlJaTFpIFsgInVybCIgXSApCmV4Y2VwdCA6IHBhc3MKdHJ5IDogb29vT09PT08gPSB1cmxsaWIgLiB1bnF1b3RlX3BsdXMgKCBpaUlpMWkgWyAibmFtZSIgXSApCmV4Y2VwdCA6IHBhc3MKdHJ5IDogSWlJMTFpMUlJaWlJID0gaW50ICggaWlJaTFpIFsgIm1vZGUiIF0gKQpleGNlcHQgOiBwYXNzCnRyeSA6IGkxaWlJSUkxMTFpaSA9IHVybGxpYiAuIHVucXVvdGVfcGx1cyAoIGlpSWkxaSBbICJpY29uaW1hZ2UiIF0gKQpleGNlcHQgOiBwYXNzCnRyeSA6IElJMSA9IHVybGxpYiAuIHVucXVvdGVfcGx1cyAoIGlpSWkxaSBbICJmYW5hcnQiIF0gKQpleGNlcHQgOiBwYXNzCmlmIDg2IC0gODY6IGkxSUkxSTExICUgaTExaUlpaUlpaSArIEkxaWlpICUgaTExaUlpaUlpaQppZiBJaUkxMWkxSUlpaUkgPT0gTm9uZSBvciBJMTEgPT0gTm9uZSBvciBsZW4gKCBJMTEgKSA8IDEgOiBpMUkxSWlpaTExMTEgKCApCmVsaWYgSWlJMTFpMUlJaWlJID09IDEgOiBvMDBPTzAwT29PICggb29vT09PT08gLCBJMTEgLCBpMWlpSUlJMTExaWkgLCBJSTEgKQplbGlmIElpSTExaTFJSWlpSSA9PSAyIDogb29vb28gKCBvb29PT09PTyAsIEkxMSAsIGkxaWlJSUkxMTFpaSApCmVsaWYgSWlJMTFpMUlJaWlJID09IDMgOiBJSUlJaUlpSWkxICggb29vT09PT08gLCBJMTEgLCBpMWlpSUlJMTExaWkgKQplbGlmIElpSTExaTFJSWlpSSA9PSA0IDogSTFpaTFpaTExaTFJICggb29vT09PT08gLCBJMTEgLCBpMWlpSUlJMTExaWkgKQplbGlmIElpSTExaTFJSWlpSSA9PSA1IDogb09vMCAoICkKZWxpZiBJaUkxMWkxSUlpaUkgPT0gNiA6IGlJSUlpMSAoIEkxMSApCmVsaWYgSWlJMTFpMUlJaWlJID09IDcgOiBpaUkxSTEgKCBJMTEgKQplbGlmIElpSTExaTFJSWlpSSA9PSA4IDogT29vb08gKCBvb29PT09PTyAsIEkxMSAsIGkxaWlJSUkxMTFpaSApCmVsaWYgSWlJMTFpMUlJaWlJID09IDkgOiBPMDAwT28wbyAoIEkxMSApCmVsaWYgSWlJMTFpMUlJaWlJID09IDEwIDogSTEgKCApCmlmIDkyIC0gOTI6IGkxMWlJaWlJaWkgLSBJaWlJMTFJaWlpaSAvIG9vME8wb09PTzAwb08gLyBvME8wCmVsaWYgSWlJMTFpMUlJaWlJID09IDEyIDogR0VUX1JFR0VYICggb29vT09PT08gLCBJMTEgLCBpMWlpSUlJMTExaWkgKQplbGlmIElpSTExaTFJSWlpSSA9PSAxMyA6IElpICggSTExICkKZWxpZiBJaUkxMWkxSUlpaUkgPT0gMTUgOiBJMWkxSUlJaWlJSTEgKCBvb29PT09PTyAsIEkxMSApCmlmIDQzIC0gNDM6IGkxSUkxSTExICsgbzAgKyBJaWlJMTFJaWlpaQplbGlmIElpSTExaTFJSWlpSSA9PSAxNiA6IE9vT09PT08gKCApCmVsaWYgSWlJMTFpMUlJaWlJID09IDE3IDogaWkgKCApCmVsaWYgSWlJMTFpMUlJaWlJID09IDQyIDogb29PMG8gKCBJMTEgKQplbGlmIElpSTExaTFJSWlpSSA9PSA0MyA6IElpMTExaUlpMWlJaSAoIEkxMSApCmVsaWYgSWlJMTFpMUlJaWlJID09IDcxIDogaUlJSWkxICggSTExICkKZWxpZiBJaUkxMWkxSUlpaUkgPT0gNzIgOiBZT1VUVUJFX0NIQU5ORUxfUEFSVDIgKCBJMTEgKQplbGlmIElpSTExaTFJSWlpSSA9PSAzMTcgOiBPTyAoICkKZWxpZiBJaUkxMWkxSUlpaUkgPT0gMzE4IDogSTExaUkgKCBvb29PT09PTyAsIEkxMSAsIGkxaWlJSUkxMTFpaSApCmVsaWYgSWlJMTFpMUlJaWlJID09IDMxOSA6IG9PTzAwTyAoIEkxMSApCmVsaWYgSWlJMTFpMUlJaWlJID09IDMyMCA6IGlJaWlpMWkxMTFpSTEgKCApCmVsaWYgSWlJMTFpMUlJaWlJID09IDMyMSA6IG8wT29vMDBvME9vb28gKCApCmVsaWYgSWlJMTFpMUlJaWlJID09IDMyMiA6IElJMTEgKCApCmVsaWYgSWlJMTFpMUlJaWlJID09IDMyMyA6IGkxMWlpMWlJICggb29vT09PT08gLCBJMTEgKQp4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkgKQojIGRkNjc4ZmFhZTlhYzE2N2JjODNhYmY3OGU1Y2IyZjNmMDY4OGQzYTMK]')